(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const i of o)if(i.type==="childList")for(const l of i.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&s(l)}).observe(document,{childList:!0,subtree:!0});function n(o){const i={};return o.integrity&&(i.integrity=o.integrity),o.referrerPolicy&&(i.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?i.credentials="include":o.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(o){if(o.ep)return;o.ep=!0;const i=n(o);fetch(o.href,i)}})();const lt=!1,ct=(e,t)=>e===t,V=Symbol("solid-proxy"),at=typeof Proxy=="function",Ee=Symbol("solid-track"),fe={equals:ct};let Fe=qe;const G=1,he=2,Ue={owned:null,cleanups:null,context:null,owner:null};var M=null;let Ce=null,dt=null,E=null,L=null,X=null,be=0;function ue(e,t){const n=E,s=M,o=e.length===0,i=t===void 0?s:t,l=o?Ue:{owned:null,cleanups:null,context:i?i.context:null,owner:i},r=o?e:()=>e(()=>B(()=>ie(l)));M=l,E=null;try{return te(r,!0)}finally{E=n,M=s}}function T(e,t){t=t?Object.assign({},fe,t):fe;const n={value:e,observers:null,observerSlots:null,comparator:t.equals||void 0},s=o=>(typeof o=="function"&&(o=o(n.value)),Ge(n,o));return[Ke.bind(n),s]}function A(e,t,n){const s=De(e,t,!1,G);ae(s)}function pe(e,t,n){Fe=gt;const s=De(e,t,!1,G);s.user=!0,X?X.push(s):ae(s)}function S(e,t,n){n=n?Object.assign({},fe,n):fe;const s=De(e,t,!0,0);return s.observers=null,s.observerSlots=null,s.comparator=n.equals||void 0,ae(s),Ke.bind(s)}function ut(e){return te(e,!1)}function B(e){if(E===null)return e();const t=E;E=null;try{return e()}finally{E=t}}function Oe(e){pe(()=>B(e))}function ee(e){return M===null||(M.cleanups===null?M.cleanups=[e]:M.cleanups.push(e)),e}function Me(){return E}function Ke(){if(this.sources&&this.state)if(this.state===G)ae(this);else{const e=L;L=null,te(()=>we(this),!1),L=e}if(E){const e=this.observers?this.observers.length:0;E.sources?(E.sources.push(this),E.sourceSlots.push(e)):(E.sources=[this],E.sourceSlots=[e]),this.observers?(this.observers.push(E),this.observerSlots.push(E.sources.length-1)):(this.observers=[E],this.observerSlots=[E.sources.length-1])}return this.value}function Ge(e,t,n){let s=e.value;return(!e.comparator||!e.comparator(s,t))&&(e.value=t,e.observers&&e.observers.length&&te(()=>{for(let o=0;o<e.observers.length;o+=1){const i=e.observers[o],l=Ce&&Ce.running;l&&Ce.disposed.has(i),(l?!i.tState:!i.state)&&(i.pure?L.push(i):X.push(i),i.observers&&We(i)),l||(i.state=G)}if(L.length>1e6)throw L=[],new Error},!1)),t}function ae(e){if(!e.fn)return;ie(e);const t=be;ft(e,e.value,t)}function ft(e,t,n){let s;const o=M,i=E;E=M=e;try{s=e.fn(t)}catch(l){return e.pure&&(e.state=G,e.owned&&e.owned.forEach(ie),e.owned=null),e.updatedAt=n+1,Ze(l)}finally{E=i,M=o}(!e.updatedAt||e.updatedAt<=n)&&(e.updatedAt!=null&&"observers"in e?Ge(e,s):e.value=s,e.updatedAt=n)}function De(e,t,n,s=G,o){const i={fn:e,state:s,updatedAt:null,owned:null,sources:null,sourceSlots:null,cleanups:null,value:t,owner:M,context:M?M.context:null,pure:n};return M===null||M!==Ue&&(M.owned?M.owned.push(i):M.owned=[i]),i}function ge(e){if(e.state===0)return;if(e.state===he)return we(e);if(e.suspense&&B(e.suspense.inFallback))return e.suspense.effects.push(e);const t=[e];for(;(e=e.owner)&&(!e.updatedAt||e.updatedAt<be);)e.state&&t.push(e);for(let n=t.length-1;n>=0;n--)if(e=t[n],e.state===G)ae(e);else if(e.state===he){const s=L;L=null,te(()=>we(e,t[0]),!1),L=s}}function te(e,t){if(L)return e();let n=!1;t||(L=[]),X?n=!0:X=[],be++;try{const s=e();return ht(n),s}catch(s){n||(X=null),L=null,Ze(s)}}function ht(e){if(L&&(qe(L),L=null),e)return;const t=X;X=null,t.length&&te(()=>Fe(t),!1)}function qe(e){for(let t=0;t<e.length;t++)ge(e[t])}function gt(e){let t,n=0;for(t=0;t<e.length;t++){const s=e[t];s.user?e[n++]=s:ge(s)}for(t=0;t<n;t++)ge(e[t])}function we(e,t){e.state=0;for(let n=0;n<e.sources.length;n+=1){const s=e.sources[n];if(s.sources){const o=s.state;o===G?s!==t&&(!s.updatedAt||s.updatedAt<be)&&ge(s):o===he&&we(s,t)}}}function We(e){for(let t=0;t<e.observers.length;t+=1){const n=e.observers[t];n.state||(n.state=he,n.pure?L.push(n):X.push(n),n.observers&&We(n))}}function ie(e){let t;if(e.sources)for(;e.sources.length;){const n=e.sources.pop(),s=e.sourceSlots.pop(),o=n.observers;if(o&&o.length){const i=o.pop(),l=n.observerSlots.pop();s<o.length&&(i.sourceSlots[l]=s,o[s]=i,n.observerSlots[s]=l)}}if(e.tOwned){for(t=e.tOwned.length-1;t>=0;t--)ie(e.tOwned[t]);delete e.tOwned}if(e.owned){for(t=e.owned.length-1;t>=0;t--)ie(e.owned[t]);e.owned=null}if(e.cleanups){for(t=e.cleanups.length-1;t>=0;t--)e.cleanups[t]();e.cleanups=null}e.state=0}function wt(e){return e instanceof Error?e:new Error(typeof e=="string"?e:"Unknown error",{cause:e})}function Ze(e,t=M){throw wt(e)}const mt=Symbol("fallback");function Te(e){for(let t=0;t<e.length;t++)e[t]()}function vt(e,t,n={}){let s=[],o=[],i=[],l=0,r=t.length>1?[]:null;return ee(()=>Te(i)),()=>{let d=e()||[],u=d.length,f,a;return d[Ee],B(()=>{let y,m,c,h,g,v,p,b,k;if(u===0)l!==0&&(Te(i),i=[],s=[],o=[],l=0,r&&(r=[])),n.fallback&&(s=[mt],o[0]=ue(z=>(i[0]=z,n.fallback())),l=1);else if(l===0){for(o=new Array(u),a=0;a<u;a++)s[a]=d[a],o[a]=ue(w);l=u}else{for(c=new Array(u),h=new Array(u),r&&(g=new Array(u)),v=0,p=Math.min(l,u);v<p&&s[v]===d[v];v++);for(p=l-1,b=u-1;p>=v&&b>=v&&s[p]===d[b];p--,b--)c[b]=o[p],h[b]=i[p],r&&(g[b]=r[p]);for(y=new Map,m=new Array(b+1),a=b;a>=v;a--)k=d[a],f=y.get(k),m[a]=f===void 0?-1:f,y.set(k,a);for(f=v;f<=p;f++)k=s[f],a=y.get(k),a!==void 0&&a!==-1?(c[a]=o[f],h[a]=i[f],r&&(g[a]=r[f]),a=m[a],y.set(k,a)):i[f]();for(a=v;a<u;a++)a in c?(o[a]=c[a],i[a]=h[a],r&&(r[a]=g[a],r[a](a))):o[a]=ue(w);o=o.slice(0,l=u),s=d.slice(0)}return o});function w(y){if(i[a]=y,r){const[m,c]=T(a);return r[a]=c,t(d[a],m)}return t(d[a])}}}function x(e,t){return B(()=>e(t||{}))}function de(){return!0}const _e={get(e,t,n){return t===V?n:e.get(t)},has(e,t){return t===V?!0:e.has(t)},set:de,deleteProperty:de,getOwnPropertyDescriptor(e,t){return{configurable:!0,enumerable:!0,get(){return e.get(t)},set:de,deleteProperty:de}},ownKeys(e){return e.keys()}};function Qe(e,...t){const n=t.length;if(at&&V in e){const o=n>1?t.flat():t[0],i=t.map(l=>new Proxy({get(r){return l.includes(r)?e[r]:void 0},has(r){return l.includes(r)&&r in e},keys(){return l.filter(r=>r in e)}},_e));return i.push(new Proxy({get(l){return o.includes(l)?void 0:e[l]},has(l){return o.includes(l)?!1:l in e},keys(){return Object.keys(e).filter(l=>!o.includes(l))}},_e)),i}const s=[];for(let o=0;o<=n;o++)s[o]={};for(const o of Object.getOwnPropertyNames(e)){let i=n;for(let d=0;d<t.length;d++)if(t[d].includes(o)){i=d;break}const l=Object.getOwnPropertyDescriptor(e,o);!l.get&&!l.set&&l.enumerable&&l.writable&&l.configurable?s[i][o]=l.value:Object.defineProperty(s[i],o,l)}return s}const yt=e=>`Stale read from <${e}>.`;function se(e){const t="fallback"in e&&{fallback:()=>e.fallback};return S(vt(()=>e.each,e.children,t||void 0))}function R(e){const t=e.keyed,n=S(()=>e.when,void 0,void 0),s=t?n:S(n,void 0,{equals:(o,i)=>!o==!i});return S(()=>{const o=s();if(o){const i=e.children;return typeof i=="function"&&i.length>0?B(()=>i(t?o:()=>{if(!B(s))throw yt("Show");return n()})):i}return e.fallback},void 0,void 0)}const bt=["allowfullscreen","async","alpha","autofocus","autoplay","checked","controls","default","disabled","formnovalidate","hidden","indeterminate","inert","ismap","loop","multiple","muted","nomodule","novalidate","open","playsinline","readonly","required","reversed","seamless","selected","adauctionheaders","browsingtopics","credentialless","defaultchecked","defaultmuted","defaultselected","defer","disablepictureinpicture","disableremoteplayback","preservespitch","shadowrootclonable","shadowrootcustomelementregistry","shadowrootdelegatesfocus","shadowrootserializable","sharedstoragewritable"],pt=new Set(["className","value","readOnly","noValidate","formNoValidate","isMap","noModule","playsInline","adAuctionHeaders","allowFullscreen","browsingTopics","defaultChecked","defaultMuted","defaultSelected","disablePictureInPicture","disableRemotePlayback","preservesPitch","shadowRootClonable","shadowRootCustomElementRegistry","shadowRootDelegatesFocus","shadowRootSerializable","sharedStorageWritable",...bt]),xt=new Set(["innerHTML","textContent","innerText","children"]),$t=Object.assign(Object.create(null),{className:"class",htmlFor:"for"}),Ct=Object.assign(Object.create(null),{class:"className",novalidate:{$:"noValidate",FORM:1},formnovalidate:{$:"formNoValidate",BUTTON:1,INPUT:1},ismap:{$:"isMap",IMG:1},nomodule:{$:"noModule",SCRIPT:1},playsinline:{$:"playsInline",VIDEO:1},readonly:{$:"readOnly",INPUT:1,TEXTAREA:1},adauctionheaders:{$:"adAuctionHeaders",IFRAME:1},allowfullscreen:{$:"allowFullscreen",IFRAME:1},browsingtopics:{$:"browsingTopics",IMG:1},defaultchecked:{$:"defaultChecked",INPUT:1},defaultmuted:{$:"defaultMuted",AUDIO:1,VIDEO:1},defaultselected:{$:"defaultSelected",OPTION:1},disablepictureinpicture:{$:"disablePictureInPicture",VIDEO:1},disableremoteplayback:{$:"disableRemotePlayback",AUDIO:1,VIDEO:1},preservespitch:{$:"preservesPitch",AUDIO:1,VIDEO:1},shadowrootclonable:{$:"shadowRootClonable",TEMPLATE:1},shadowrootdelegatesfocus:{$:"shadowRootDelegatesFocus",TEMPLATE:1},shadowrootserializable:{$:"shadowRootSerializable",TEMPLATE:1},sharedstoragewritable:{$:"sharedStorageWritable",IFRAME:1,IMG:1}});function St(e,t){const n=Ct[e];return typeof n=="object"?n[t]?n.$:void 0:n}const kt=new Set(["beforeinput","click","dblclick","contextmenu","focusin","focusout","input","keydown","keyup","mousedown","mousemove","mouseout","mouseover","mouseup","pointerdown","pointermove","pointerout","pointerover","pointerup","touchend","touchmove","touchstart"]),Et=new Set(["altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignObject","g","glyph","glyphRef","hkern","image","line","linearGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","set","stop","svg","switch","symbol","text","textPath","tref","tspan","use","view","vkern"]),Mt={xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace"},re=e=>S(()=>e());function At(e,t,n){let s=n.length,o=t.length,i=s,l=0,r=0,d=t[o-1].nextSibling,u=null;for(;l<o||r<i;){if(t[l]===n[r]){l++,r++;continue}for(;t[o-1]===n[i-1];)o--,i--;if(o===l){const f=i<s?r?n[r-1].nextSibling:n[i-r]:d;for(;r<i;)e.insertBefore(n[r++],f)}else if(i===r)for(;l<o;)(!u||!u.has(t[l]))&&t[l].remove(),l++;else if(t[l]===n[i-1]&&n[r]===t[o-1]){const f=t[--o].nextSibling;e.insertBefore(n[r++],t[l++].nextSibling),e.insertBefore(n[--i],f),t[o]=n[i]}else{if(!u){u=new Map;let a=r;for(;a<i;)u.set(n[a],a++)}const f=u.get(t[l]);if(f!=null)if(r<f&&f<i){let a=l,w=1,y;for(;++a<o&&a<i&&!((y=u.get(t[a]))==null||y!==f+w);)w++;if(w>f-r){const m=t[l];for(;r<f;)e.insertBefore(n[r++],m)}else e.replaceChild(n[r++],t[l++])}else l++;else t[l++].remove()}}}const Re="_$DX_DELEGATE";function Pt(e,t,n,s={}){let o;return ue(i=>{o=i,t===document?e():C(t,e(),t.firstChild?null:void 0,n)},s.owner),()=>{o(),t.textContent=""}}function $(e,t,n,s){let o;const i=()=>{const r=document.createElement("template");return r.innerHTML=e,r.content.firstChild},l=()=>(o||(o=i())).cloneNode(!0);return l.cloneNode=l,l}function _(e,t=window.document){const n=t[Re]||(t[Re]=new Set);for(let s=0,o=e.length;s<o;s++){const i=e[s];n.has(i)||(n.add(i),t.addEventListener(i,_t))}}function P(e,t,n){n==null?e.removeAttribute(t):e.setAttribute(t,n)}function Lt(e,t,n,s){s==null?e.removeAttributeNS(t,n):e.setAttributeNS(t,n,s)}function zt(e,t,n){n?e.setAttribute(t,""):e.removeAttribute(t)}function Je(e,t){t==null?e.removeAttribute("class"):e.className=t}function Nt(e,t,n,s){if(s)Array.isArray(n)?(e[`$$${t}`]=n[0],e[`$$${t}Data`]=n[1]):e[`$$${t}`]=n;else if(Array.isArray(n)){const o=n[0];e.addEventListener(t,n[0]=i=>o.call(e,n[1],i))}else e.addEventListener(t,n,typeof n!="function"&&n)}function Ot(e,t,n={}){const s=Object.keys(t||{}),o=Object.keys(n);let i,l;for(i=0,l=o.length;i<l;i++){const r=o[i];!r||r==="undefined"||t[r]||(je(e,r,!1),delete n[r])}for(i=0,l=s.length;i<l;i++){const r=s[i],d=!!t[r];!r||r==="undefined"||n[r]===d||!d||(je(e,r,!0),n[r]=d)}return n}function xe(e,t,n){if(!t)return n?P(e,"style"):t;const s=e.style;if(typeof t=="string")return s.cssText=t;typeof n=="string"&&(s.cssText=n=void 0),n||(n={}),t||(t={});let o,i;for(i in n)t[i]==null&&s.removeProperty(i),delete n[i];for(i in t)o=t[i],o!==n[i]&&(s.setProperty(i,o),n[i]=o);return n}function N(e,t,n){n!=null?e.style.setProperty(t,n):e.style.removeProperty(t)}function Dt(e,t={},n,s){const o={};return A(()=>o.children=le(e,t.children,o.children)),A(()=>typeof t.ref=="function"&&J(t.ref,e)),A(()=>It(e,t,n,!0,o,!0)),o}function J(e,t,n){return B(()=>e(t,n))}function C(e,t,n,s){if(n!==void 0&&!s&&(s=[]),typeof t!="function")return le(e,t,s,n);A(o=>le(e,t(),o,n),s)}function It(e,t,n,s,o={},i=!1){t||(t={});for(const l in o)if(!(l in t)){if(l==="children")continue;o[l]=Ve(e,l,null,o[l],n,i,t)}for(const l in t){if(l==="children")continue;const r=t[l];o[l]=Ve(e,l,r,o[l],n,i,t)}}function Tt(e){return e.toLowerCase().replace(/-([a-z])/g,(t,n)=>n.toUpperCase())}function je(e,t,n){const s=t.trim().split(/\s+/);for(let o=0,i=s.length;o<i;o++)e.classList.toggle(s[o],n)}function Ve(e,t,n,s,o,i,l){let r,d,u,f,a;if(t==="style")return xe(e,n,s);if(t==="classList")return Ot(e,n,s);if(n===s)return s;if(t==="ref")i||n(e);else if(t.slice(0,3)==="on:"){const w=t.slice(3);s&&e.removeEventListener(w,s,typeof s!="function"&&s),n&&e.addEventListener(w,n,typeof n!="function"&&n)}else if(t.slice(0,10)==="oncapture:"){const w=t.slice(10);s&&e.removeEventListener(w,s,!0),n&&e.addEventListener(w,n,!0)}else if(t.slice(0,2)==="on"){const w=t.slice(2).toLowerCase(),y=kt.has(w);if(!y&&s){const m=Array.isArray(s)?s[0]:s;e.removeEventListener(w,m)}(y||n)&&(Nt(e,w,n,y),y&&_([w]))}else if(t.slice(0,5)==="attr:")P(e,t.slice(5),n);else if(t.slice(0,5)==="bool:")zt(e,t.slice(5),n);else if((a=t.slice(0,5)==="prop:")||(u=xt.has(t))||!o&&((f=St(t,e.tagName))||(d=pt.has(t)))||(r=e.nodeName.includes("-")||"is"in l))a&&(t=t.slice(5),d=!0),t==="class"||t==="className"?Je(e,n):r&&!d&&!u?e[Tt(t)]=n:e[f||t]=n;else{const w=o&&t.indexOf(":")>-1&&Mt[t.split(":")[0]];w?Lt(e,w,t,n):P(e,$t[t]||t,n)}return n}function _t(e){let t=e.target;const n=`$$${e.type}`,s=e.target,o=e.currentTarget,i=d=>Object.defineProperty(e,"target",{configurable:!0,value:d}),l=()=>{const d=t[n];if(d&&!t.disabled){const u=t[`${n}Data`];if(u!==void 0?d.call(t,u,e):d.call(t,e),e.cancelBubble)return}return t.host&&typeof t.host!="string"&&!t.host._$host&&t.contains(e.target)&&i(t.host),!0},r=()=>{for(;l()&&(t=t._$host||t.parentNode||t.host););};if(Object.defineProperty(e,"currentTarget",{configurable:!0,get(){return t||document}}),e.composedPath){const d=e.composedPath();i(d[0]);for(let u=0;u<d.length-2&&(t=d[u],!!l());u++){if(t._$host){t=t._$host,r();break}if(t.parentNode===o)break}}else r();i(s)}function le(e,t,n,s,o){for(;typeof n=="function";)n=n();if(t===n)return n;const i=typeof t,l=s!==void 0;if(e=l&&n[0]&&n[0].parentNode||e,i==="string"||i==="number"){if(i==="number"&&(t=t.toString(),t===n))return n;if(l){let r=n[0];r&&r.nodeType===3?r.data!==t&&(r.data=t):r=document.createTextNode(t),n=W(e,n,s,r)}else n!==""&&typeof n=="string"?n=e.firstChild.data=t:n=e.textContent=t}else if(t==null||i==="boolean")n=W(e,n,s);else{if(i==="function")return A(()=>{let r=t();for(;typeof r=="function";)r=r();n=le(e,r,n,s)}),()=>n;if(Array.isArray(t)){const r=[],d=n&&Array.isArray(n);if(Ae(r,t,n,o))return A(()=>n=le(e,r,n,s,!0)),()=>n;if(r.length===0){if(n=W(e,n,s),l)return n}else d?n.length===0?Be(e,r,s):At(e,n,r):(n&&W(e),Be(e,r));n=r}else if(t.nodeType){if(Array.isArray(n)){if(l)return n=W(e,n,s,t);W(e,n,null,t)}else n==null||n===""||!e.firstChild?e.appendChild(t):e.replaceChild(t,e.firstChild);n=t}}return n}function Ae(e,t,n,s){let o=!1;for(let i=0,l=t.length;i<l;i++){let r=t[i],d=n&&n[e.length],u;if(!(r==null||r===!0||r===!1))if((u=typeof r)=="object"&&r.nodeType)e.push(r);else if(Array.isArray(r))o=Ae(e,r,d)||o;else if(u==="function")if(s){for(;typeof r=="function";)r=r();o=Ae(e,Array.isArray(r)?r:[r],Array.isArray(d)?d:[d])||o}else e.push(r),o=!0;else{const f=String(r);d&&d.nodeType===3&&d.data===f?e.push(d):e.push(document.createTextNode(f))}}return o}function Be(e,t,n=null){for(let s=0,o=t.length;s<o;s++)e.insertBefore(t[s],n)}function W(e,t,n,s){if(n===void 0)return e.textContent="";const o=s||document.createTextNode("");if(t.length){let i=!1;for(let l=t.length-1;l>=0;l--){const r=t[l];if(o!==r){const d=r.parentNode===e;!i&&!l?d?e.replaceChild(o,r):e.insertBefore(o,n):d&&r.remove()}else i=!0}}else e.insertBefore(o,n);return[o]}const Rt="http://www.w3.org/2000/svg";function jt(e,t=!1,n=void 0){return t?document.createElementNS(Rt,e):document.createElement(e,{is:n})}function Vt(e,t){const n=S(e);return S(()=>{const s=n();switch(typeof s){case"function":return B(()=>s(t));case"string":const o=Et.has(s),i=jt(s,o,B(()=>t.is));return Dt(i,t,o),i}})}function Pe(e){const[,t]=Qe(e,["component"]);return Vt(()=>e.component,t)}const Le=(e,t)=>Math.round(e/t)*t,me=(e,t,n,s)=>s?{x:(e-s.left-n.x)/n.zoom,y:(t-s.top-n.y)/n.zoom}:null,ve=(e,t,n,s)=>{const o=(e-t)/n;return s?Le(o,s):o},et=()=>{document.documentElement.style.userSelect="none"},tt=()=>{document.documentElement.style.userSelect="auto"},Ie=e=>{let t=!1,n,s=null,o=null,i=null;const l=u=>{!t||n===void 0||u.pointerId!==s||(e.preventDefault&&u.preventDefault(),e.onMove(u,n))},r=u=>{!t||u.pointerId!==s||(t=!1,e.preventDefault&&u.preventDefault(),e.onEnd&&n!==void 0&&e.onEnd(u,n),e.disableSelection&&tt(),i?.abort(),i=null,o&&o.hasPointerCapture(u.pointerId)&&o.releasePointerCapture(u.pointerId),s=null,o=null)};return{onPointerDown:u=>{if(t)return;const f=e.onStart?.(u);if(f===void 0)return;e.stopPropagation&&u.stopPropagation(),e.preventDefault&&u.preventDefault(),t=!0,n=f,s=u.pointerId,e.disableSelection&&et(),i=new AbortController;const a=u.currentTarget;a&&a.setPointerCapture&&(a.setPointerCapture(u.pointerId),o=a),window.addEventListener("pointermove",l,{signal:i.signal}),window.addEventListener("pointerup",r,{signal:i.signal}),window.addEventListener("pointercancel",r,{signal:i.signal})}}};function Se(e,t,n,s){pe(()=>{const o=e();o&&(t()?o.addEventListener(n,s):o.removeEventListener(n,s))})}const He=["left","right","top","bottom"],Bt=["disableZoom","minZoom","maxZoom","disableNodeDrag","disableEdgeDrag","gridSize","minNodeWidth","maxNodeWidth","minNodeHeight","maxNodeHeight","defaultNode","disableNodeAnchors","disableAnchorConnectionCreation","disableKeyboardShortcuts"],ze=Symbol("store-raw"),Q=Symbol("store-node"),H=Symbol("store-has"),nt=Symbol("store-self");function ot(e){let t=e[V];if(!t&&(Object.defineProperty(e,V,{value:t=new Proxy(e,Yt)}),!Array.isArray(e))){const n=Object.keys(e),s=Object.getOwnPropertyDescriptors(e);for(let o=0,i=n.length;o<i;o++){const l=n[o];s[l].get&&Object.defineProperty(e,l,{enumerable:s[l].enumerable,get:s[l].get.bind(t)})}}return t}function U(e){let t;return e!=null&&typeof e=="object"&&(e[V]||!(t=Object.getPrototypeOf(e))||t===Object.prototype||Array.isArray(e))}function K(e,t=new Set){let n,s,o,i;if(n=e!=null&&e[ze])return n;if(!U(e)||t.has(e))return e;if(Array.isArray(e)){Object.isFrozen(e)?e=e.slice(0):t.add(e);for(let l=0,r=e.length;l<r;l++)o=e[l],(s=K(o,t))!==o&&(e[l]=s)}else{Object.isFrozen(e)?e=Object.assign({},e):t.add(e);const l=Object.keys(e),r=Object.getOwnPropertyDescriptors(e);for(let d=0,u=l.length;d<u;d++)i=l[d],!r[i].get&&(o=e[i],(s=K(o,t))!==o&&(e[i]=s))}return e}function ye(e,t){let n=e[t];return n||Object.defineProperty(e,t,{value:n=Object.create(null)}),n}function ce(e,t,n){if(e[t])return e[t];const[s,o]=T(n,{equals:!1,internal:!0});return s.$=o,e[t]=s}function Ht(e,t){const n=Reflect.getOwnPropertyDescriptor(e,t);return!n||n.get||!n.configurable||t===V||t===Q||(delete n.value,delete n.writable,n.get=()=>e[V][t]),n}function it(e){Me()&&ce(ye(e,Q),nt)()}function Xt(e){return it(e),Reflect.ownKeys(e)}const Yt={get(e,t,n){if(t===ze)return e;if(t===V)return n;if(t===Ee)return it(e),n;const s=ye(e,Q),o=s[t];let i=o?o():e[t];if(t===Q||t===H||t==="__proto__")return i;if(!o){const l=Object.getOwnPropertyDescriptor(e,t);Me()&&(typeof i!="function"||e.hasOwnProperty(t))&&!(l&&l.get)&&(i=ce(s,t,i)())}return U(i)?ot(i):i},has(e,t){return t===ze||t===V||t===Ee||t===Q||t===H||t==="__proto__"?!0:(Me()&&ce(ye(e,H),t)(),t in e)},set(){return!0},deleteProperty(){return!0},ownKeys:Xt,getOwnPropertyDescriptor:Ht};function D(e,t,n,s=!1){if(!s&&e[t]===n)return;const o=e[t],i=e.length;n===void 0?(delete e[t],e[H]&&e[H][t]&&o!==void 0&&e[H][t].$()):(e[t]=n,e[H]&&e[H][t]&&o===void 0&&e[H][t].$());let l=ye(e,Q),r;if((r=ce(l,t,o))&&r.$(()=>n),Array.isArray(e)&&e.length!==i){for(let d=e.length;d<i;d++)(r=l[d])&&r.$();(r=ce(l,"length",i))&&r.$(e.length)}(r=l[nt])&&r.$()}function st(e,t){const n=Object.keys(t);for(let s=0;s<n.length;s+=1){const o=n[s];D(e,o,t[o])}}function Ft(e,t){if(typeof t=="function"&&(t=t(e)),t=K(t),Array.isArray(t)){if(e===t)return;let n=0,s=t.length;for(;n<s;n++){const o=t[n];e[n]!==o&&D(e,n,o)}D(e,"length",s)}else st(e,t)}function oe(e,t,n=[]){let s,o=e;if(t.length>1){s=t.shift();const l=typeof s,r=Array.isArray(e);if(Array.isArray(s)){for(let d=0;d<s.length;d++)oe(e,[s[d]].concat(t),n);return}else if(r&&l==="function"){for(let d=0;d<e.length;d++)s(e[d],d)&&oe(e,[d].concat(t),n);return}else if(r&&l==="object"){const{from:d=0,to:u=e.length-1,by:f=1}=s;for(let a=d;a<=u;a+=f)oe(e,[a].concat(t),n);return}else if(t.length>1){oe(e[s],t,[s].concat(n));return}o=e[s],n=[s].concat(n)}let i=t[0];typeof i=="function"&&(i=i(o,n),i===o)||s===void 0&&i==null||(i=K(i),s===void 0||U(o)&&U(i)&&!Array.isArray(i)?st(o,i):D(e,s,i))}function Xe(...[e,t]){const n=K(e||{}),s=Array.isArray(n),o=ot(n);function i(...l){ut(()=>{s&&l.length===1?Ft(n,l[0]):oe(n,l)})}return[o,i]}const Ne=Symbol("store-root");function Z(e,t,n,s,o){const i=t[n];if(e===i)return;const l=Array.isArray(e);if(n!==Ne&&(!U(e)||!U(i)||l!==Array.isArray(i)||o&&e[o]!==i[o])){D(t,n,e);return}if(l){if(e.length&&i.length&&(!s||o&&e[0]&&e[0][o]!=null)){let u,f,a,w,y,m,c,h;for(a=0,w=Math.min(i.length,e.length);a<w&&(i[a]===e[a]||o&&i[a]&&e[a]&&i[a][o]&&i[a][o]===e[a][o]);a++)Z(e[a],i,a,s,o);const g=new Array(e.length),v=new Map;for(w=i.length-1,y=e.length-1;w>=a&&y>=a&&(i[w]===e[y]||o&&i[w]&&e[y]&&i[w][o]&&i[w][o]===e[y][o]);w--,y--)g[y]=i[w];if(a>y||a>w){for(f=a;f<=y;f++)D(i,f,e[f]);for(;f<e.length;f++)D(i,f,g[f]),Z(e[f],i,f,s,o);i.length>e.length&&D(i,"length",e.length);return}for(c=new Array(y+1),f=y;f>=a;f--)m=e[f],h=o&&m?m[o]:m,u=v.get(h),c[f]=u===void 0?-1:u,v.set(h,f);for(u=a;u<=w;u++)m=i[u],h=o&&m?m[o]:m,f=v.get(h),f!==void 0&&f!==-1&&(g[f]=i[u],f=c[f],v.set(h,f));for(f=a;f<e.length;f++)f in g?(D(i,f,g[f]),Z(e[f],i,f,s,o)):D(i,f,e[f])}else for(let u=0,f=e.length;u<f;u++)Z(e[u],i,u,s,o);i.length>e.length&&D(i,"length",e.length);return}const r=Object.keys(e);for(let u=0,f=r.length;u<f;u++)Z(e[r[u]],i,r[u],s,o);const d=Object.keys(i);for(let u=0,f=d.length;u<f;u++)e[d[u]]===void 0&&D(i,d[u],void 0)}function j(e,t={}){const{merge:n,key:s="id"}=t,o=K(e);return i=>{if(!U(i)||!U(o))return o;const l=Z(o,{[Ne]:i},Ne,n,s);return l===void 0?i:l}}var Ut=$("<div class=node-anchor>");const Kt=e=>{let t,n=!1;const s=d=>{if(!e.kit.activeConnection.from)return;const u=me(d.clientX,d.clientY,e.kit.viewport(),e.kit.container?.getBoundingClientRect());u&&e.kit.setActiveConnectionDestination(u)},o=()=>{if(!n){r();return}const d=e.kit;if(d.activeConnection.from){let u=d.activeConnection.to;if(!u?.id&&!d.configs.disableAnchorConnectionCreation){const f=d.activeConnectionDestination(),a=e.kit.configs.gridSize;if(f){const w=Le(f.x-75,a),y=Le(f.y,a),m=Math.round(150/a),c=Math.round(60/a),h=d.randomId("node"),g={x:w,y,width:m*d.configs.gridSize,height:c*d.configs.gridSize,data:{label:"Node",component:"default"},...d.configs.defaultNode,id:h};d.setNodes(j([...d.nodes,g])),d.updateNodes(!0);const v=d.activeConnection.from.side,p=He[He.indexOf(v)^1];u={id:h,side:u?.side??p}}}if(u?.id&&d.activeConnection.from.id!==u.id){const f={id:d.randomId("connection"),from:d.activeConnection.from,to:u};d.setConnections(j([...d.connections,f])),d.updateConnections()}}r()},i=()=>{if(!t)return;const{x:d,y:u,width:f,height:a}=t.getBoundingClientRect();et(),e.kit.activeConnection={from:{side:e.side,id:e.id}};const w=me(d+f/2,u+a/2,e.kit.viewport(),e.kit.container?.getBoundingClientRect());w&&e.kit.setActiveConnectionDestination(w)},l=d=>{d.stopPropagation(),d.preventDefault(),d.clientX,d.clientY,n=!0,i(),window.addEventListener("pointermove",s),window.addEventListener("pointerup",o,{once:!0}),window.addEventListener("pointercancel",o,{once:!0})},r=()=>{tt(),e.kit.setActiveConnectionDestination(null),e.kit.activeConnection={},window.removeEventListener("pointermove",s),window.removeEventListener("pointerup",o),window.removeEventListener("pointercancel",o)};return(()=>{var d=Ut();d.$$pointerdown=l;var u=t;return typeof u=="function"?J(u,d):t=d,d})()};_(["pointerdown"]);var Gt=$("<div class=node-edge>");const qt=e=>{const t=["tl","tr","bl","br"].includes(e.side),n=(c,h,g)=>Math.max(h,Math.min(c,g)),s=c=>{const{minNodeWidth:h=1,maxNodeWidth:g=1e4}=e.kit.configs;return n(c,h,g)},o=c=>{const{minNodeHeight:h=1,maxNodeHeight:g=1e4}=e.kit.configs;return n(c,h,g)},i=(()=>{switch(e.side){case"top":case"bottom":case"left":case"right":return{[e.side]:"var(--off-v)"};case"tl":return{top:"var(--off-v)",left:"var(--off-v)"};case"tr":return{top:"var(--off-v)",right:"var(--off-v)"};case"bl":return{bottom:"var(--off-v)",left:"var(--off-v)"};case"br":return{bottom:"var(--off-v)",right:"var(--off-v)"}}})(),l={top:{axis:"y",sign:-1,cursor:"ns-resize"},bottom:{axis:"y",sign:1,cursor:"ns-resize"},left:{axis:"x",sign:-1,cursor:"ew-resize"},right:{axis:"x",sign:1,cursor:"ew-resize"}}[e.side],r=e.side==="tl"?[{axis:"x",sign:-1},{axis:"y",sign:-1}]:e.side==="tr"?[{axis:"x",sign:1},{axis:"y",sign:-1}]:e.side==="bl"?[{axis:"x",sign:-1},{axis:"y",sign:1}]:e.side==="br"?[{axis:"x",sign:1},{axis:"y",sign:1}]:[],d=t?r:[l],u=t?e.side==="tl"||e.side==="br"?"nwse-resize":"nesw-resize":l?.cursor??"default",f=S(()=>{const c="calc(var(--node-border-width, 2px) + 10px)";return t?{width:c,height:c,"--cursor":u}:{width:l.axis==="y"?"100%":c,height:l.axis==="y"?c:"100%","--cursor":u}}),a=Ie({onStart:c=>({width:e.node.width,height:e.node.height,x:e.node.x,y:e.node.y,clientX:c.clientX,clientY:c.clientY,vp:e.kit.viewport(),gridSize:e.kit.configs.gridSize}),onMove:(c,h)=>{let{width:g,height:v,x:p,y:b,vp:k,gridSize:z}=h;for(const O of d){const I=k.zoom,Y=(O.axis==="x"?ve(c.clientX,h.clientX,I,z):ve(c.clientY,h.clientY,I,z))*O.sign;if(O.axis==="x"){let F=g+Y;const q=s(F),$e=q-g;g=q,(e.side==="left"||e.side==="tl"||e.side==="bl")&&(p-=$e)}else{let F=v+Y;const q=o(F),$e=q-v;v=q,(e.side==="top"||e.side==="tl"||e.side==="tr")&&(b-=$e)}}e.kit.setNodes(O=>O.id===e.node.id,{width:g,height:v,x:p,y:b})},onEnd:(c,h)=>{["width","height","x","y"].some(g=>h[g]!==e.node[g])&&e.kit.updateNodes()},stopPropagation:!0,preventDefault:!0,disableSelection:!0}),w=c=>{e.kit.configs.disableEdgeDrag||a.onPointerDown(c)},y=()=>{const{from:c}=e.kit.activeConnection;!c||t||(e.kit.activeConnection={from:c,to:{side:e.side,id:e.node.id}})},m=()=>{const c=e.kit.activeConnection;c.from&&(e.kit.activeConnection={...c,to:{id:void 0,side:c.to?.side}})};return(()=>{var c=Gt();return c.$$pointerdown=w,c.addEventListener("pointerleave",m),c.addEventListener("pointerenter",y),C(c,x(R,{get when(){return!t&&e.kit.configs.disableNodeAnchors},get children(){return x(Kt,{get side(){return e.side},get kit(){return e.kit},get id(){return e.node.id}})}})),A(h=>xe(c,{...f(),...i},h)),c})()};_(["pointerdown"]);var Wt=$('<div class=node-toolbar style="position:absolute;top:var(--top, 0);left:var(--left, calc(100% + 1em))">'),Zt=$("<span class=node-label contenteditable=true style=top:-2em;left:0;width:var(--size);height:var(--size);display:flex;align-items:center;justify-content:center;outline:none>"),Qt=$("<div class=node-component style=width:100%;height:100%>"),Jt=$("<div>");const en=({node:e,components:t={},kit:n})=>{const s=S(()=>e.data?.component),o=S(()=>!!e.data?.component&&e.data.component in t),i=S(()=>"node-toolbar"in t),l=S(()=>n?n.selectedItems().has(e.id):!1),r=m=>{const c=new Set(n.selectedItems());m?c.add(e.id):c.delete(e.id),n.setSelectedItems(c)};let d;const u=new AbortController,f=Ie({onStart:m=>{if(n.focus()){m.stopPropagation();return}return{x:e.x,y:e.y,clientX:m.clientX,clientY:m.clientY,zoom:n.viewport().zoom,gridSize:n.configs.gridSize}},onMove:(m,c)=>{const h=m.clientX,g=m.clientY,v=ve(h,c.clientX,c.zoom,c.gridSize),p=ve(g,c.clientY,c.zoom,c.gridSize),b=c.x+v,k=c.y+p;n.setNodes(z=>z.id===e.id,{x:b,y:k})},onEnd:(m,c)=>{(c.x!==e.x||c.y!==e.y)&&n.updateNodes()},preventDefault:!0}),a=m=>{r(!0),!(m.button===2||n.configs.disableNodeDrag)&&f.onPointerDown(m)};pe(()=>{d&&(l()?(d.focus(),window.addEventListener("pointerdown",w,{signal:u.signal}),window.addEventListener("keydown",y,{signal:u.signal})):d.classList.contains("selected")&&d.blur())});const w=m=>{const c=m.target;d&&!d.contains(c)&&!m.ctrlKey&&(r(!1),window.removeEventListener("pointerdown",w),window.removeEventListener("keydown",y))},y=m=>{m.key==="Escape"&&(r(!1),window.removeEventListener("keydown",y))};return ee(()=>{u.abort()}),(()=>{var m=Jt();m.$$pointerdown=a;var c=d;return typeof c=="function"?J(c,m):d=m,C(m,x(R,{get when(){return re(()=>!!i())()&&l()},get children(){var h=Wt();return C(h,x(Pe,{get component(){return t?.["node-toolbar"]},kit:n,node:e})),h}}),null),C(m,x(R,{get when(){return e.data?.label},get children(){var h=Zt();return h.$$keydown=g=>{g.key==="Escape"&&g.currentTarget.blur()},h.addEventListener("blur",g=>{const v=g.currentTarget.innerText.trim().length===0?void 0:g.currentTarget.innerText;n.setNodes(p=>p.id===e.id,"data","label",v),n.updateNodes(),console.log(n.nodes.find(p=>p.id===e.id)?.data?.label)}),C(h,()=>e.data?.label),A(g=>{var v=s()&&o()?"fit-content":"100%",p=s()&&o()?"absolute":"static";return v!==g.e&&N(h,"--size",g.e=v),p!==g.t&&N(h,"position",g.t=p),g},{e:void 0,t:void 0}),h}}),null),C(m,x(R,{get when(){return re(()=>!!(s()&&t))()&&o()},get children(){var h=Qt();return C(h,x(Pe,{get component(){return t[s()]},node:e,kit:n})),h}}),null),C(m,x(se,{each:["left","top","right","bottom","tl","tr","br","bl"],children:h=>x(qt,{side:h,node:e,kit:n})}),null),A(h=>{var g=`node ${e.class??""} `,v=!!l(),p=e.id+"-container",b={transform:`translate(${e.x}px, ${e.y}px)`,width:`${e.width}px`,height:`${e.height}px`,cursor:n.focus()?"auto":"grab",...e.style};return g!==h.e&&Je(m,h.e=g),v!==h.t&&m.classList.toggle("selected",h.t=v),p!==h.a&&P(m,"id",h.a=p),h.o=xe(m,b,h.o),h},{e:void 0,t:void 0,a:void 0,o:void 0}),m})()};_(["pointerdown","keydown"]);const tn=e=>{const[t,n]=e.nodesStore,[s,o]=e.connectionsStore,[i,l]=T(e.viewport||{x:0,y:0,zoom:1}),[r,d]=T(!1),[u,f]=T(new Set),[a,w]=T(null),y=()=>e.onViewportChange?.(i()),m=v=>v+"-"+Math.random().toString(36).substring(2,10),c=v=>{e.onNodesChange(K(t))},h=v=>{e.onConnectionsChange(K(s))},[g]=Qe(e,Bt);return{nodes:t,setNodes:n,connections:s,setConnections:o,viewport:i,setViewport:l,focus:r,setFocus:d,selectedItems:u,setSelectedItems:f,activeConnectionDestination:a,setActiveConnectionDestination:w,activeConnection:{},container:null,updateNodes:c,updateConnections:h,updateViewport:y,randomId:m,configs:g}};function rt({start:e,startPos:t,end:n,endPos:s,curve:o=9}){const i=a=>a>0?.5*a:a===0?o*5:o*Math.sqrt(-a),l=(a,w,y)=>a==="left"?[w.x-i(w.x-y.x),w.y]:a==="right"?[w.x+i(y.x-w.x),w.y]:a==="top"?[w.x,w.y-i(w.y-y.y)]:[w.x,w.y+i(y.y-w.y)],[r,d]=l(t,e,n),[u,f]=l(s,n,e);return`M${e.x},${e.y} C${r},${d} ${u},${f} ${n.x},${n.y}`}var nn=$("<svg stroke=currentColor style=z-index:0;overflow:visible;position:absolute><g style=outline:0><path fill=none style></path><path stroke-width=20 stroke=transparent fill=none>"),on=$('<div class=connection-toolbar style="position:absolute;left:calc(var(--mid-x) + var(--left, 0px));top:calc(var(--mid-y) + var(--top, -2em));transform:translate(-50%, -50%)">'),sn=$('<span class=connection-label contenteditable=true style="position:absolute;z-index:1000;transform:translate(-50%, -50%)">');const rn=e=>{let t,n;const s=e.kit,o=S(()=>s?s.selectedItems().has(e.connection.id):!1),i=c=>s.nodes.find(h=>h.id===c),l=S(()=>{const{from:c,to:h}=e.connection,g=i(c.id),v=i(h.id),p=(b,k)=>{switch(k){case"top":return{x:b.x+b.width/2,y:b.y};case"bottom":return{x:b.x+b.width/2,y:b.y+b.height};case"left":return{x:b.x,y:b.y+b.height/2};case"right":return{x:b.x+b.width,y:b.y+b.height/2}}};return{source:p(g,c.side),target:p(v,h.side)}}),r=S(()=>({x:(l().source.x+l().target.x)/2,y:(l().source.y+l().target.y)/2})),d=c=>{const h=new Set(s.selectedItems());c?h.add(e.connection.id):h.delete(e.connection.id),s.setSelectedItems(h)},u=S(()=>{const{source:c,target:h}=l(),{from:g,to:v}=e.connection;return rt({start:c,startPos:g.side,end:h,endPos:v.side})}),f=c=>{s.setConnections(h=>h.id===e.connection.id,"label",c),s.updateConnections()},a=()=>{d(!0)},w=new AbortController;pe(()=>{t&&(o()?(t.focus(),window.addEventListener("mousedown",y,{signal:w.signal}),window.addEventListener("keydown",m,{signal:w.signal})):t.classList.contains("selected")&&t.blur())});const y=c=>{const h=c.target;n&&n.contains(h)||t&&!t.contains(h)&&!c.ctrlKey&&(d(!1),window.removeEventListener("mousedown",y),window.removeEventListener("keydown",m))},m=c=>{c.key==="Escape"&&(d(!1),window.removeEventListener("keydown",m))};return ee(()=>{w.abort()}),[(()=>{var c=nn(),h=c.firstChild,g=h.firstChild,v=g.nextSibling;c.$$dblclick=()=>f("Test"),h.$$mousedown=a;var p=t;return typeof p=="function"?J(p,h):t=h,A(b=>{var k=`connection-svg ${e.connection.class??""}`,z=e.connection.id,O=`connection ${e.connection.class??""}`,I=!!o(),ne={...e.connection.style},Y=u(),F=u();return k!==b.e&&P(c,"class",b.e=k),z!==b.t&&P(h,"id",b.t=z),O!==b.a&&P(h,"class",b.a=O),I!==b.o&&h.classList.toggle("selected",b.o=I),b.i=xe(h,ne,b.i),Y!==b.n&&P(g,"d",b.n=Y),F!==b.s&&P(v,"d",b.s=F),b},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0,s:void 0}),c})(),x(R,{get when(){return re(()=>!!e.Toolbar)()&&o()},get children(){var c=on(),h=n;return typeof h=="function"?J(h,c):n=c,C(c,x(Pe,{get component(){return e.Toolbar},kit:s,get connection(){return e.connection}})),A(g=>{var v=r().x+"px",p=r().y+"px";return v!==g.e&&N(c,"--mid-x",g.e=v),p!==g.t&&N(c,"--mid-y",g.t=p),g},{e:void 0,t:void 0}),c}}),x(R,{get when(){return e.connection.label!==void 0},get children(){var c=sn();return c.$$keydown=h=>{h.key==="Enter"&&h.currentTarget.blur()},c.addEventListener("blur",h=>{const g=h.currentTarget.innerText.trim().length===0?void 0:h.currentTarget.innerText;f(g)}),C(c,()=>e.connection.label),A(h=>{var g=r().x+"px",v=r().y+"px";return g!==h.e&&N(c,"left",h.e=g),v!==h.t&&N(c,"top",h.t=v),h},{e:void 0,t:void 0}),c}})]};_(["dblclick","mousedown","keydown"]);var ln=$('<svg stroke=currentColor style=z-index:0;overflow:visible;position:absolute><g tabindex=0 class="connection connection-preview"><path fill=none style="stroke-width:var(--connection-width, 2)">');const Ye=["top","bottom","left","right"],cn=e=>{const t=e.kit.activeConnectionDestination(),n=e.kit.activeConnection.from.side,s=S(()=>rt({start:t,startPos:n,end:e.kit.activeConnectionDestination(),endPos:e.kit.activeConnection.to?.side??Ye[Ye.indexOf(n)^1]??"top"})),o=i=>{const{x:l,y:r,zoom:d}=e.kit.viewport(),u=e.kit.container?.getBoundingClientRect();u&&e.kit.setActiveConnectionDestination({x:(i.clientX-u.left-l)/d,y:(i.clientY-u.top-r)/d})};return Oe(()=>{window.addEventListener("mousemove",o)}),ee(()=>{window.removeEventListener("mousemove",o)}),(()=>{var i=ln(),l=i.firstChild,r=l.firstChild;return A(()=>P(r,"d",s())),i})()};var an=$('<div class=solid-kitx tabindex=0 autofocus style=outline:none><div class=container style="transform-origin:0 0">');const dn=e=>{const t=tn(e),n=()=>{const c=e.children;return typeof c=="function"?c(t):c},s=S(()=>t.viewport());let o={x:0,y:0,zoom:1};const i=new Map;let l=0;const r=c=>{if(!t.focus()&&!c.target.closest(".node")){if(i.set(c.pointerId,{x:c.clientX,y:c.clientY}),i.size===1&&(o=t.viewport()),i.size===2){const[h,g]=Array.from(i.values());h&&g&&(l=Math.hypot(h.x-g.x,h.y-g.y))}window.addEventListener("pointermove",d),window.addEventListener("pointerup",u),window.addEventListener("pointercancel",u)}},d=c=>{if(!i.has(c.pointerId))return;const h=i.get(c.pointerId);if(h){if(i.set(c.pointerId,{x:c.clientX,y:c.clientY}),i.size===2&&l>0){c.preventDefault();const[g,v]=Array.from(i.values());if(!g||!v)return;const b=Math.hypot(g.x-v.x,g.y-v.y)/l,k=Math.max(.1,Math.min(5,o.zoom*b)),z=(g.x+v.x)/2,O=(g.y+v.y)/2,I=w?.getBoundingClientRect();if(!I)return;const ne=z-I.left,Y=O-I.top,F=ne-(ne-o.x)*(k/o.zoom),q=Y-(Y-o.y)*(k/o.zoom);t.setViewport({zoom:k,x:F,y:q})}else if(i.size===1){const g=c.clientX-h.x,v=c.clientY-h.y,p=t.viewport();t.setViewport({...p,x:p.x+g,y:p.y+v})}}},u=c=>{i.delete(c.pointerId),i.size===0&&(o!==t.viewport()&&t.updateViewport(),window.removeEventListener("pointermove",d),window.removeEventListener("pointerup",u),window.removeEventListener("pointercancel",u),l=0)},f=c=>{if(t.focus())return;c.preventDefault();const h=c.target.getBoundingClientRect(),g=c.clientX-h.left,v=c.clientY-h.top,p=t.viewport(),b=p.zoom,k=b-c.deltaY*.001,z=Math.max(e.maxZoom??.1,Math.min(e.minZoom??5,k)),O=g-(g-p.x)/b*z,I=v-(v-p.y)/b*z;t.setViewport({zoom:z,x:O,y:I})},a=()=>{o!==t.viewport()&&(t.updateViewport(),o=t.viewport())};let w;const y=()=>{w&&(t.container=w)},m=c=>{const h=t.selectedItems();c.key==="Delete"&&h.size>0&&(t.setConnections(j(t.connections.filter(g=>!h.has(g.id)&&!h.has(g.from.id)&&!h.has(g.to.id)))),t.setNodes(j(t.nodes.filter(g=>!h.has(g.id)))),t.updateNodes(),t.updateConnections(),h.clear(),t.setSelectedItems(h))};return Se(()=>w,()=>!e.disableZoom,"wheel",f),Se(()=>window,()=>!e.disableZoom,"scrollend",a),Se(()=>w,()=>!e.disableKeyboardShortcuts,"keydown",m),Oe(()=>{y()}),ee(()=>{window.removeEventListener("scrollend",a),window.removeEventListener("pointermove",d),window.removeEventListener("pointerup",u),window.removeEventListener("pointercancel",u)}),(()=>{var c=an(),h=c.firstChild;c.$$pointerdown=r;var g=w;return typeof g=="function"?J(g,c):w=c,C(h,x(se,{get each(){return t.connections},children:v=>x(rn,{connection:v,get Toolbar(){return e.components?.["connection-toolbar"]},kit:t})}),null),C(h,x(R,{get when(){return t.activeConnectionDestination()},get children(){return x(cn,{kit:t})}}),null),C(h,x(se,{get each(){return t.nodes},children:v=>x(en,{node:v,get components(){return e.components},kit:t})}),null),C(c,x(n,{}),null),A(v=>N(h,"transform",`translate(${s().x}px, ${s().y}px) scale(${s().zoom})`)),c})()};_(["pointerdown"]);var un=$("<svg class=background-grid style=position:absolute;width:100%;height:100%><pattern id=grid-pattern patternUnits=userSpaceOnUse><circle fill=currentColor></circle></pattern><rect x=0 y=0 width=100% height=100% fill=url(#grid-pattern)>");const fn=e=>{const t=S(()=>e.absoluteGrid??e.kit.configs.gridSize??30),n=S(()=>e.kit.viewport()),s=S(()=>t()*n().zoom);return(()=>{var o=un(),i=o.firstChild,l=i.firstChild;return A(r=>{var d=n().x+s()/2,u=n().y+s()/2,f=s(),a=s(),w=n().zoom,y=n().zoom,m=n().zoom;return d!==r.e&&P(i,"x",r.e=d),u!==r.t&&P(i,"y",r.t=u),f!==r.a&&P(i,"width",r.a=f),a!==r.o&&P(i,"height",r.o=a),w!==r.i&&P(l,"cx",r.i=w),y!==r.n&&P(l,"cy",r.n=y),m!==r.s&&P(l,"r",r.s=m),r},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0,s:void 0}),o})()};var hn=$(`<div class=kit-controls><button><svg xmlns=http://www.w3.org/2000/svg viewBox="0 0 297 297"fill=currentColor><g><path d="M294.077,251.199l-59.105-59.107l42.167-24.356c3.295-1.903,5.212-5.52,4.938-9.315c-0.274-3.796-2.692-7.101-6.226-8.51
		L87.82,74.905c-3.686-1.472-7.895-0.605-10.702,2.201c-2.807,2.808-3.674,7.016-2.203,10.702l74.994,188.053
		c1.41,3.534,4.715,5.953,8.511,6.227c3.796,0.276,7.414-1.642,9.316-4.938l24.354-42.167l59.101,59.107
		c1.862,1.863,4.39,2.91,7.023,2.91c2.635,0,5.161-1.047,7.023-2.91l28.841-28.845C297.956,261.366,297.956,255.078,294.077,251.199
		z"></path><path d="M43.61,29.552c-3.879-3.876-10.166-3.877-14.047,0c-3.878,3.879-3.878,10.168,0,14.047l22.069,22.069
		c1.939,1.939,4.48,2.909,7.023,2.909c2.541,0,5.083-0.97,7.022-2.909c3.879-3.879,3.879-10.167,0-14.046L43.61,29.552z"></path><path d="M51.089,98.215c0-5.484-4.447-9.932-9.933-9.932H9.946c-5.485,0-9.933,4.447-9.933,9.932c0,5.485,4.447,9.933,9.933,9.933
		h31.21C46.642,108.147,51.089,103.7,51.089,98.215z"></path><path d="M47.063,128.869l-22.072,22.071c-3.878,3.879-3.878,10.168,0,14.046c1.94,1.939,4.482,2.909,7.023,2.909
		c2.541,0,5.084-0.97,7.023-2.909l22.071-22.07c3.879-3.879,3.879-10.168,0-14.047C57.23,124.993,50.944,124.992,47.063,128.869z"></path><path d="M98.222,51.078c5.485,0,9.933-4.447,9.933-9.933V9.932c0-5.485-4.447-9.932-9.933-9.932c-5.484,0-9.932,4.446-9.932,9.932
		v31.214C88.29,46.631,92.737,51.078,98.222,51.078z"></path><path d="M135.894,64.006c2.543,0,5.084-0.97,7.023-2.909l22.068-22.069c3.879-3.879,3.879-10.168,0-14.047
		c-3.879-3.877-10.168-3.877-14.046,0l-22.068,22.07c-3.879,3.879-3.879,10.168,0,14.046
		C130.811,63.036,133.352,64.006,135.894,64.006z"></path></g></svg></button><button class=control-button><svg viewBox="0 0 24 24"id=plus data-name="Flat Line"xmlns=http://www.w3.org/2000/svg stroke=currentColor><path d=M5,12H19M12,5V19 fill=none stroke-linecap=round stroke-linejoin=round stroke-width=2></path></svg></button><button class=control-button><svg viewBox="0 0 24 24"id=minus data-name="Flat Line"xmlns=http://www.w3.org/2000/svg stroke=currentColor><line fill=none stroke-linecap=round stroke-linejoin=round stroke-width=2 x1=19 y1=12 x2=5 y2=12></line></svg></button><button class=control-button><svg viewBox="0 0 24 24"id=maximize-size data-name="Flat Line"xmlns=http://www.w3.org/2000/svg fill=none stroke-linecap=round stroke-linejoin=round stroke-width=2 stroke=currentColor><path d=M9,9,3.29,3.29M15,9l5.71-5.71M9,15,3.29,20.71m17.42,0L15,15></path><path data-name=primary d=M3,8V4A1,1,0,0,1,4,3H8></path><path data-name=primary d=M16,3h4a1,1,0,0,1,1,1V8></path><path data-name=primary d=M8,21H4a1,1,0,0,1-1-1V16></path><path data-name=primary d=M21,16v4a1,1,0,0,1-1,1H16>`);const gn=({kit:e})=>{const t=()=>{const o=e.viewport(),i=Math.min(5,o.zoom+.1);e.setViewport({...o,zoom:i}),e.updateViewport()},n=()=>{const o=e.viewport();e.setViewport({...o,zoom:Math.max(.1,o.zoom-.1)}),e.updateViewport()},s=()=>{if(!e.container||e.nodes.length===0)return;const o=e.nodes;let i=1/0,l=1/0,r=-1/0,d=-1/0;o.forEach(b=>{i=Math.min(i,b.x),l=Math.min(l,b.y),r=Math.max(r,b.x+b.width),d=Math.max(d,b.y+b.height)});const{width:u,height:f}=e.container.getBoundingClientRect(),a=40,w=r-i,y=d-l;if(w<=0||y<=0)return;const m=Math.min((u-a*2)/w,(f-a*2)/y),c=Math.min(m,1),h=i+w/2,g=l+y/2,v=u/2-h*c,p=f/2-g*c;e.setViewport({x:v,y:p,zoom:c}),e.updateViewport()};return(()=>{var o=hn(),i=o.firstChild,l=i.nextSibling,r=l.nextSibling,d=r.nextSibling;return i.$$pointerdown=()=>e.setFocus(u=>!u),l.$$pointerdown=t,r.$$pointerdown=n,d.$$pointerdown=s,A(()=>i.classList.toggle("on",!!e.focus())),o})()};_(["pointerdown"]);var wn=$('<div class=kit-selection-rect style="position:absolute;border:1px solid rgb(var(--selection-rgb, 0,120,215));background-color:rgba(var(--selection-rgb, 0,120,215), 0.3)">');const mn=({kit:e})=>{const[t,n]=T(!1);let s={x:0,y:0};const[o,i]=T({x:0,y:0}),l=()=>{const f=s,a=o();return{left:Math.min(f.x,a.x),top:Math.min(f.y,a.y),right:Math.max(f.x,a.x),bottom:Math.max(f.y,a.y),width:Math.abs(f.x-a.x),height:Math.abs(f.y-a.y)}},r=()=>{const f=l(),a=e.viewport();return{left:f.left*a.zoom,top:f.top*a.zoom,width:f.width*a.zoom,height:f.height*a.zoom}};function d(){const f=l(),a=e.container.getBoundingClientRect(),w=[];e.container.querySelectorAll(".node, .connection").forEach(m=>{const c=m.getBoundingClientRect(),h=e.viewport(),g={left:(c.left-a.left)/h.zoom,top:(c.top-a.top)/h.zoom,right:(c.right-a.left)/h.zoom,bottom:(c.bottom-a.top)/h.zoom};if(!(g.left>f.right||g.right<f.left||g.top>f.bottom||g.bottom<f.top)){const p=m.getAttribute("id");p&&w.push(p)}}),e.setSelectedItems(new Set(w))}const u=Ie({onStart:f=>{if(f.button!==0&&!e.focus())return;const a=me(f.clientX,f.clientY,{...e.viewport(),x:0,y:0},e.container.getBoundingClientRect());if(a)return s=a,i(a),n(!0),a},onMove:(f,a)=>{const w=me(f.clientX,f.clientY,{...e.viewport(),x:0,y:0},e.container.getBoundingClientRect());w&&i(w)},onEnd:()=>{n(!1),d()},disableSelection:!0});return Oe(()=>{e.container?.addEventListener("pointerdown",u.onPointerDown)}),ee(()=>{e.container?.removeEventListener("pointerdown",u.onPointerDown)}),x(R,{get when(){return re(()=>!!t())()&&e.focus()},get children(){var f=wn();return A(a=>{var w=`${r().left}px`,y=`${r().top}px`,m=`${r().width}px`,c=`${r().height}px`;return w!==a.e&&N(f,"left",a.e=w),y!==a.t&&N(f,"top",a.t=y),m!==a.a&&N(f,"width",a.a=m),c!==a.o&&N(f,"height",a.o=c),a},{e:void 0,t:void 0,a:void 0,o:void 0}),f}})};var vn=$('<div class=kit-controls style=--flex-direction:row><button><svg xmlns=http://www.w3.org/2000/svg viewBox="0 0 24 24"fill=none stroke=currentColor stroke-width=2 stroke-linecap=round stroke-linejoin=round class="icon icon-tabler icons-tabler-outline icon-tabler-trash"><path stroke=none d="M0 0h24v24H0z"fill=none></path><path d="M4 7l16 0"></path><path d="M10 11l0 6"></path><path d="M14 11l0 6"></path><path d="M5 7l1 12a2 2 0 0 0 2 2h8a2 2 0 0 0 2 -2l1 -12"></path><path d="M9 7v-3a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v3"></path></svg></button><button title="Changes outline color"><svg xmlns=http://www.w3.org/2000/svg viewBox="0 0 24 24"fill=none stroke=currentColor stroke-width=2 stroke-linecap=round stroke-linejoin=round class="icon icon-tabler icons-tabler-outline icon-tabler-palette"><path stroke=none d="M0 0h24v24H0z"fill=none></path><path d="M12 21a9 9 0 0 1 0 -18c4.97 0 9 3.582 9 8c0 1.06 -.474 2.078 -1.318 2.828c-.844 .75 -1.989 1.172 -3.182 1.172h-2.5a2 2 0 0 0 -1 3.75a1.3 1.3 0 0 1 -1 2.25"></path><path d="M8.5 10.5m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0"></path><path d="M12.5 7.5m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0"></path><path d="M16.5 10.5m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0">');const yn=e=>{const t=()=>{const s=document.createElement("input");s.type="color",s.click(),s.addEventListener("input",()=>{e.kit.setNodes(j(e.kit.nodes.map(o=>o.id===e.node.id?{...o,style:{...o.style,"outline-color":s.value}}:o))),e.kit.updateNodes()})},n=()=>{const s=e.node.id;e.kit.setConnections(j(e.kit.connections.filter(o=>o.from.id!==s&&o.to.id!==s))),e.kit.setNodes(j(e.kit.nodes.filter(o=>o.id!==s))),e.kit.updateNodes()};return(()=>{var s=vn(),o=s.firstChild,i=o.nextSibling;return o.$$pointerdown=n,i.$$pointerdown=t,s})()};_(["pointerdown"]);var bn=$('<div class=kit-controls style=--flex-direction:row><button><svg xmlns=http://www.w3.org/2000/svg viewBox="0 0 24 24"fill=none stroke=currentColor stroke-width=2 stroke-linecap=round stroke-linejoin=round class="icon icon-tabler icons-tabler-outline icon-tabler-trash"><path stroke=none d="M0 0h24v24H0z"fill=none></path><path d="M4 7l16 0"></path><path d="M10 11l0 6"></path><path d="M14 11l0 6"></path><path d="M5 7l1 12a2 2 0 0 0 2 2h8a2 2 0 0 0 2 -2l1 -12"></path><path d="M9 7v-3a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v3"></path></svg></button><button><svg xmlns=http://www.w3.org/2000/svg viewBox="0 0 24 24"fill=none stroke=currentColor stroke-width=2 stroke-linecap=round stroke-linejoin=round class="icon icon-tabler icons-tabler-outline icon-tabler-palette"><path stroke=none d="M0 0h24v24H0z"fill=none></path><path d="M12 21a9 9 0 0 1 0 -18c4.97 0 9 3.582 9 8c0 1.06 -.474 2.078 -1.318 2.828c-.844 .75 -1.989 1.172 -3.182 1.172h-2.5a2 2 0 0 0 -1 3.75a1.3 1.3 0 0 1 -1 2.25"></path><path d="M8.5 10.5m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0"></path><path d="M12.5 7.5m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0"></path><path d="M16.5 10.5m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0">');const pn=e=>{const t=()=>{const s=document.createElement("input");s.type="color",s.click(),s.addEventListener("input",()=>{console.log(s.value),e.kit.setConnections(j(e.kit.connections.map(o=>o.id===e.connection.id?{...o,style:{...o.style,stroke:s.value}}:o))),e.kit.updateConnections()})},n=()=>{e.kit.setConnections(j(e.kit.connections.filter(s=>s.id!==e.connection.id))),e.kit.updateConnections()};return(()=>{var s=bn(),o=s.firstChild,i=o.nextSibling;return o.$$pointerdown=n,i.$$pointerdown=t,s})()};_(["pointerdown"]);var xn=$('<svg xmlns=http://www.w3.org/2000/svg width=24 height=24 viewBox="0 0 24 24"><path stroke=none d="M0 0h24v24H0z"fill=none></path><path d="M9 6c0 -.852 .986 -1.297 1.623 -.783l.084 .076l6 6a1 1 0 0 1 .083 1.32l-.083 .094l-6 6l-.094 .083l-.077 .054l-.096 .054l-.036 .017l-.067 .027l-.108 .032l-.053 .01l-.06 .01l-.057 .004l-.059 .002l-.059 -.002l-.058 -.005l-.06 -.009l-.052 -.01l-.108 -.032l-.067 -.027l-.132 -.07l-.09 -.065l-.081 -.073l-.083 -.094l-.054 -.077l-.054 -.096l-.017 -.036l-.027 -.067l-.032 -.108l-.01 -.053l-.01 -.06l-.004 -.057l-.002 -12.059z">'),$n=$("<ul class=instructions-list>"),Cn=$('<div class=instructions-popup><div style=display:flex;align-items:center;justify-content:space-between><div style=display:flex;flex:1><h4 class=instructions-title>Instructions</h4></div><button><svg xmlns=http://www.w3.org/2000/svg width=24 height=24 viewBox="0 0 24 24"fill=none stroke=currentColor stroke-width=2 stroke-linecap=round stroke-linejoin=round><path stroke=none d="M0 0h24v24H0z"fill=none></path><path d="M12 12m-9 0a9 9 0 1 0 18 0a9 9 0 1 0 -18 0"></path><path d="M13 12h5"></path><path d="M13 15h4"></path><path d="M13 18h1"></path><path d="M13 9h4"></path><path d="M13 6h1">'),Sn=$("<li><div class=instructions-question>"),kn=$("<div class=instructions-answer>");const En=[{question:"How do I add nodes?",answer:"This library is minimal and highly customizable. By default, nodes are editable text, but you can define any type of node you want users to add. You could implement this via a custom context menu, a floating toolbar, or any UI that fits your app. For more details, check the 'Custom Nodes' section in the docs."},{question:"How do I interact with the contents of a node?",answer:"Click the button with the cursor icon in the bottom-right corner of the node to interact with its contents."},{question:"How customizable is it?",answer:"Completely customizable. from appearance to behavior. Read the docs or the source code."}],Mn=()=>{let e=window.matchMedia("(max-width: 600px)").matches;const[t,n]=T(!e),[s,o]=T(new Set),i=r=>{const d=new Set(s());d.has(r)?d.delete(r):d.add(r),o(d)},l=()=>{document.documentElement.classList.toggle("dark")};return(()=>{var r=Cn(),d=r.firstChild,u=d.firstChild;u.firstChild;var f=u.nextSibling;return r.$$mousedown=a=>{a.stopPropagation()},u.$$touchstart=()=>n(!t()),C(u,x(R,{when:e,get children(){var a=xn();return A(w=>N(a,"transform",t()?"rotate(90deg)":"none")),a}}),null),f.$$click=l,C(r,x(R,{get when(){return t()},get children(){var a=$n();return C(a,x(se,{each:En,children:(w,y)=>(()=>{var m=Sn(),c=m.firstChild;return c.$$click=()=>i(y()),C(c,()=>w.question),C(m,(()=>{var h=re(()=>!!s().has(y()));return()=>h()&&(()=>{var g=kn();return C(g,()=>w.answer),g})()})(),null),m})()})),a}}),null),A(()=>r.classList.toggle("open",!!t())),r})()};_(["mousedown","touchstart","click"]);var An=$("<div style=width:100%;height:100%;padding-block:10px;padding-inline:41px;display:flex;overflow:hidden;flex-direction:column;box-sizing:border-box;font-family:sans-serif><h1>Markdown Title</h1><p>This is a simple HTML page that looks like <strong>Markdown-rendered</strong> content.</p><h2>Subheading</h2><p>You can have <em>italic</em>, <strong>bold</strong>, and <code>inline code</code>.</p><h3>Lists</h3><ul><li>First item</li><li>Second item</li><li>Third item</li></ul><ol><li>Numbered one</li><li>Numbered two</li></ol><h3>Blockquote</h3><blockquote>This is a blockquote. It usually indicates a quote or note.</blockquote><p>End of the demo.");const Pn=()=>An();var Ln=$('<div style=width:100%;height:100%;background-color:#272727;color:white;align-items:center;display:flex;flex-direction:column;justify-content:space-between;padding:14px;border-radius:8px;box-sizing:border-box;font-family:sans-serif;font-size:14px><div style=display:flex;justify-content:space-between;width:100%;align-items:center><div></div><div style="width:12px;height:12px;border-radius:50%;background-color:#22c55e;box-shadow:0 0 4px #22c55e"></div></div><div style="margin-top:10px;display:grid;grid-template-columns:repeat(5, 1fr);grid-template-rows:repeat(6, 1fr);gap:4px;width:100%;flex:1;box-sizing:border-box"></div><select style=width:100%;margin-top:10px><option value=outline-color>outline</option><option value=color>text</option><option value=background-color>background'),zn=$('<div style="width:100%;height:100%;cursor:pointer;border-radius:4px;box-shadow:0 0 3px rgba(0,0,0,0.4)">');const Nn=["#fee440","#00f6ed","#4cc9f0","#4361ee","#3a0ca3","#ff006e","#fb5607","#ffbe0b","#8338ec","#3a86ff","#06d6a0","#1b9aaa","#ef476f","#ffc43d","#eeeeee","#8ac926","#ff595e","#1982c4","#6a4c93","#a1c181","#ff9f1c","#2ec4b6","#e71d36","#011627","#b56576","#6d6875","#4cc9f0","#80ffdb","#edf6f9","#c9ada7"],On=e=>{let t="outline-color";const n=S(o=>{const i=e.kit.selectedItems();if(i.size===0)return"Select a node";const r=i.values().next().value;return r===e.node.id?typeof o=="string"?o:"Select a node":r}),s=o=>{n()!=="Select"&&e.kit.setNodes(j(e.kit.nodes.map(i=>i.id===n()?{...i,style:{...i.style,[t]:o}}:i)))};return(()=>{var o=Ln(),i=o.firstChild,l=i.firstChild;l.nextSibling;var r=i.nextSibling,d=r.nextSibling;return C(l,n),C(r,x(se,{each:Nn,children:u=>(()=>{var f=zn();return f.$$touchstart=()=>s(u),f.$$click=()=>s(u),N(f,"background-color",u),f})()})),d.addEventListener("change",u=>{t=u.currentTarget.value}),o})()};_(["click","touchstart"]);var Dn=$("<div style=background:#000;width:100vw;height:100vh;display:flex;align-items:center>");const In=()=>{const e=Xe(ke.nodes),t=Xe(ke.connections),[n]=T(ke.viewport),s=()=>{console.log("nodes changed")},o=()=>{console.log("connections changed")},i=()=>{console.log("viewport changed")};return(()=>{var l=Dn();return C(l,x(dn,{nodesStore:e,onNodesChange:s,connectionsStore:t,onConnectionsChange:o,get viewport(){return n()},onViewportChange:i,gridSize:1,defaultNode:Tn,components:{"node-toolbar":yn,"connection-toolbar":pn,"example-markdown":Pn,"example-status":On},children:r=>[x(fn,{kit:r,absoluteGrid:30}),x(mn,{kit:r}),x(Mn,{}),x(gn,{kit:r})]})),l})()},Tn={width:150,height:60},ke={nodes:[{id:"node-1",x:390,y:300,width:210,height:300,data:{label:"Color Changer",component:"example-status"},style:{"outline-color":"#272727"}},{id:"node-2",x:120,y:120,width:150,height:60,data:{label:"Node A"}},{id:"node-3",x:870,y:150,width:600,height:720,data:{label:"Example markdown",component:"example-markdown"}}],connections:[{id:"connection-1",from:{id:"node-1",side:"left"},to:{id:"node-2",side:"right"},label:"Next"}],viewport:{x:0,y:0,zoom:1}};Pt(()=>x(In,{}),document.getElementById("root"));
