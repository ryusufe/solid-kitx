(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))o(i);new MutationObserver(i=>{for(const r of i)if(r.type==="childList")for(const l of r.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&o(l)}).observe(document,{childList:!0,subtree:!0});function n(i){const r={};return i.integrity&&(r.integrity=i.integrity),i.referrerPolicy&&(r.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?r.credentials="include":i.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function o(i){if(i.ep)return;i.ep=!0;const r=n(i);fetch(i.href,r)}})();const it=!1,rt=(e,t)=>e===t,T=Symbol("solid-proxy"),Ve=typeof Proxy=="function",xe=Symbol("solid-track"),le={equals:rt};let Be=He;const B=1,ce=2,Xe={owned:null,cleanups:null,context:null,owner:null};var M=null;let ye=null,st=null,E=null,L=null,R=null,me=0;function se(e,t){const n=E,o=M,i=e.length===0,r=t===void 0?o:t,l=i?Xe:{owned:null,cleanups:null,context:r?r.context:null,owner:r},s=i?e:()=>e(()=>D(()=>W(l)));M=l,E=null;try{return K(s,!0)}finally{E=n,M=o}}function O(e,t){t=t?Object.assign({},le,t):le;const n={value:e,observers:null,observerSlots:null,comparator:t.equals||void 0},o=i=>(typeof i=="function"&&(i=i(n.value)),Fe(n,i));return[Ye.bind(n),o]}function P(e,t,n){const o=Le(e,t,!1,B);ne(o)}function Pe(e,t,n){Be=dt;const o=Le(e,t,!1,B);o.user=!0,R?R.push(o):ne(o)}function S(e,t,n){n=n?Object.assign({},le,n):le;const o=Le(e,t,!0,0);return o.observers=null,o.observerSlots=null,o.comparator=n.equals||void 0,ne(o),Ye.bind(o)}function lt(e){return K(e,!1)}function D(e){if(E===null)return e();const t=E;E=null;try{return e()}finally{E=t}}function Ae(e){Pe(()=>D(e))}function U(e){return M===null||(M.cleanups===null?M.cleanups=[e]:M.cleanups.push(e)),e}function $e(){return E}function Ye(){if(this.sources&&this.state)if(this.state===B)ne(this);else{const e=L;L=null,K(()=>de(this),!1),L=e}if(E){const e=this.observers?this.observers.length:0;E.sources?(E.sources.push(this),E.sourceSlots.push(e)):(E.sources=[this],E.sourceSlots=[e]),this.observers?(this.observers.push(E),this.observerSlots.push(E.sources.length-1)):(this.observers=[E],this.observerSlots=[E.sources.length-1])}return this.value}function Fe(e,t,n){let o=e.value;return(!e.comparator||!e.comparator(o,t))&&(e.value=t,e.observers&&e.observers.length&&K(()=>{for(let i=0;i<e.observers.length;i+=1){const r=e.observers[i],l=ye&&ye.running;l&&ye.disposed.has(r),(l?!r.tState:!r.state)&&(r.pure?L.push(r):R.push(r),r.observers&&Ue(r)),l||(r.state=B)}if(L.length>1e6)throw L=[],new Error},!1)),t}function ne(e){if(!e.fn)return;W(e);const t=me;ct(e,e.value,t)}function ct(e,t,n){let o;const i=M,r=E;E=M=e;try{o=e.fn(t)}catch(l){return e.pure&&(e.state=B,e.owned&&e.owned.forEach(W),e.owned=null),e.updatedAt=n+1,Ke(l)}finally{E=r,M=i}(!e.updatedAt||e.updatedAt<=n)&&(e.updatedAt!=null&&"observers"in e?Fe(e,o):e.value=o,e.updatedAt=n)}function Le(e,t,n,o=B,i){const r={fn:e,state:o,updatedAt:null,owned:null,sources:null,sourceSlots:null,cleanups:null,value:t,owner:M,context:M?M.context:null,pure:n};return M===null||M!==Xe&&(M.owned?M.owned.push(r):M.owned=[r]),r}function ae(e){if(e.state===0)return;if(e.state===ce)return de(e);if(e.suspense&&D(e.suspense.inFallback))return e.suspense.effects.push(e);const t=[e];for(;(e=e.owner)&&(!e.updatedAt||e.updatedAt<me);)e.state&&t.push(e);for(let n=t.length-1;n>=0;n--)if(e=t[n],e.state===B)ne(e);else if(e.state===ce){const o=L;L=null,K(()=>de(e,t[0]),!1),L=o}}function K(e,t){if(L)return e();let n=!1;t||(L=[]),R?n=!0:R=[],me++;try{const o=e();return at(n),o}catch(o){n||(R=null),L=null,Ke(o)}}function at(e){if(L&&(He(L),L=null),e)return;const t=R;R=null,t.length&&K(()=>Be(t),!1)}function He(e){for(let t=0;t<e.length;t++)ae(e[t])}function dt(e){let t,n=0;for(t=0;t<e.length;t++){const o=e[t];o.user?e[n++]=o:ae(o)}for(t=0;t<n;t++)ae(e[t])}function de(e,t){e.state=0;for(let n=0;n<e.sources.length;n+=1){const o=e.sources[n];if(o.sources){const i=o.state;i===B?o!==t&&(!o.updatedAt||o.updatedAt<me)&&ae(o):i===ce&&de(o,t)}}}function Ue(e){for(let t=0;t<e.observers.length;t+=1){const n=e.observers[t];n.state||(n.state=ce,n.pure?L.push(n):R.push(n),n.observers&&Ue(n))}}function W(e){let t;if(e.sources)for(;e.sources.length;){const n=e.sources.pop(),o=e.sourceSlots.pop(),i=n.observers;if(i&&i.length){const r=i.pop(),l=n.observerSlots.pop();o<i.length&&(r.sourceSlots[l]=o,i[o]=r,n.observerSlots[o]=l)}}if(e.tOwned){for(t=e.tOwned.length-1;t>=0;t--)W(e.tOwned[t]);delete e.tOwned}if(e.owned){for(t=e.owned.length-1;t>=0;t--)W(e.owned[t]);e.owned=null}if(e.cleanups){for(t=e.cleanups.length-1;t>=0;t--)e.cleanups[t]();e.cleanups=null}e.state=0}function ut(e){return e instanceof Error?e:new Error(typeof e=="string"?e:"Unknown error",{cause:e})}function Ke(e,t=M){throw ut(e)}const ft=Symbol("fallback");function Oe(e){for(let t=0;t<e.length;t++)e[t]()}function ht(e,t,n={}){let o=[],i=[],r=[],l=0,s=t.length>1?[]:null;return U(()=>Oe(r)),()=>{let c=e()||[],a=c.length,f,d;return c[xe],D(()=>{let y,p,u,h,g,m,b,v,k;if(a===0)l!==0&&(Oe(r),r=[],o=[],i=[],l=0,s&&(s=[])),n.fallback&&(o=[ft],i[0]=se(z=>(r[0]=z,n.fallback())),l=1);else if(l===0){for(i=new Array(a),d=0;d<a;d++)o[d]=c[d],i[d]=se(w);l=a}else{for(u=new Array(a),h=new Array(a),s&&(g=new Array(a)),m=0,b=Math.min(l,a);m<b&&o[m]===c[m];m++);for(b=l-1,v=a-1;b>=m&&v>=m&&o[b]===c[v];b--,v--)u[v]=i[b],h[v]=r[b],s&&(g[v]=s[b]);for(y=new Map,p=new Array(v+1),d=v;d>=m;d--)k=c[d],f=y.get(k),p[d]=f===void 0?-1:f,y.set(k,d);for(f=m;f<=b;f++)k=o[f],d=y.get(k),d!==void 0&&d!==-1?(u[d]=i[f],h[d]=r[f],s&&(g[d]=s[f]),d=p[d],y.set(k,d)):r[f]();for(d=m;d<a;d++)d in u?(i[d]=u[d],r[d]=h[d],s&&(s[d]=g[d],s[d](d))):i[d]=se(w);i=i.slice(0,l=a),o=c.slice(0)}return i});function w(y){if(r[d]=y,s){const[p,u]=O(d);return s[d]=u,t(c[d],p)}return t(c[d])}}}function x(e,t){return D(()=>e(t||{}))}function re(){return!0}const Ce={get(e,t,n){return t===T?n:e.get(t)},has(e,t){return t===T?!0:e.has(t)},set:re,deleteProperty:re,getOwnPropertyDescriptor(e,t){return{configurable:!0,enumerable:!0,get(){return e.get(t)},set:re,deleteProperty:re}},ownKeys(e){return e.keys()}};function be(e){return(e=typeof e=="function"?e():e)?e:{}}function gt(){for(let e=0,t=this.length;e<t;++e){const n=this[e]();if(n!==void 0)return n}}function wt(...e){let t=!1;for(let l=0;l<e.length;l++){const s=e[l];t=t||!!s&&T in s,e[l]=typeof s=="function"?(t=!0,S(s)):s}if(Ve&&t)return new Proxy({get(l){for(let s=e.length-1;s>=0;s--){const c=be(e[s])[l];if(c!==void 0)return c}},has(l){for(let s=e.length-1;s>=0;s--)if(l in be(e[s]))return!0;return!1},keys(){const l=[];for(let s=0;s<e.length;s++)l.push(...Object.keys(be(e[s])));return[...new Set(l)]}},Ce);const n={},o=Object.create(null);for(let l=e.length-1;l>=0;l--){const s=e[l];if(!s)continue;const c=Object.getOwnPropertyNames(s);for(let a=c.length-1;a>=0;a--){const f=c[a];if(f==="__proto__"||f==="constructor")continue;const d=Object.getOwnPropertyDescriptor(s,f);if(!o[f])o[f]=d.get?{enumerable:!0,configurable:!0,get:gt.bind(n[f]=[d.get.bind(s)])}:d.value!==void 0?d:void 0;else{const w=n[f];w&&(d.get?w.push(d.get.bind(s)):d.value!==void 0&&w.push(()=>d.value))}}}const i={},r=Object.keys(o);for(let l=r.length-1;l>=0;l--){const s=r[l],c=o[s];c&&c.get?Object.defineProperty(i,s,c):i[s]=c?c.value:void 0}return i}function mt(e,...t){const n=t.length;if(Ve&&T in e){const i=n>1?t.flat():t[0],r=t.map(l=>new Proxy({get(s){return l.includes(s)?e[s]:void 0},has(s){return l.includes(s)&&s in e},keys(){return l.filter(s=>s in e)}},Ce));return r.push(new Proxy({get(l){return i.includes(l)?void 0:e[l]},has(l){return i.includes(l)?!1:l in e},keys(){return Object.keys(e).filter(l=>!i.includes(l))}},Ce)),r}const o=[];for(let i=0;i<=n;i++)o[i]={};for(const i of Object.getOwnPropertyNames(e)){let r=n;for(let c=0;c<t.length;c++)if(t[c].includes(i)){r=c;break}const l=Object.getOwnPropertyDescriptor(e,i);!l.get&&!l.set&&l.enumerable&&l.writable&&l.configurable?o[r][i]=l.value:Object.defineProperty(o[r],i,l)}return o}const vt=e=>`Stale read from <${e}>.`;function Q(e){const t="fallback"in e&&{fallback:()=>e.fallback};return S(ht(()=>e.each,e.children,t||void 0))}function N(e){const t=e.keyed,n=S(()=>e.when,void 0,void 0),o=t?n:S(n,void 0,{equals:(i,r)=>!i==!r});return S(()=>{const i=o();if(i){const r=e.children;return typeof r=="function"&&r.length>0?D(()=>r(t?i:()=>{if(!D(o))throw vt("Show");return n()})):r}return e.fallback},void 0,void 0)}const yt=["allowfullscreen","async","alpha","autofocus","autoplay","checked","controls","default","disabled","formnovalidate","hidden","indeterminate","inert","ismap","loop","multiple","muted","nomodule","novalidate","open","playsinline","readonly","required","reversed","seamless","selected","adauctionheaders","browsingtopics","credentialless","defaultchecked","defaultmuted","defaultselected","defer","disablepictureinpicture","disableremoteplayback","preservespitch","shadowrootclonable","shadowrootcustomelementregistry","shadowrootdelegatesfocus","shadowrootserializable","sharedstoragewritable"],bt=new Set(["className","value","readOnly","noValidate","formNoValidate","isMap","noModule","playsInline","adAuctionHeaders","allowFullscreen","browsingTopics","defaultChecked","defaultMuted","defaultSelected","disablePictureInPicture","disableRemotePlayback","preservesPitch","shadowRootClonable","shadowRootCustomElementRegistry","shadowRootDelegatesFocus","shadowRootSerializable","sharedStorageWritable",...yt]),pt=new Set(["innerHTML","textContent","innerText","children"]),xt=Object.assign(Object.create(null),{className:"class",htmlFor:"for"}),$t=Object.assign(Object.create(null),{class:"className",novalidate:{$:"noValidate",FORM:1},formnovalidate:{$:"formNoValidate",BUTTON:1,INPUT:1},ismap:{$:"isMap",IMG:1},nomodule:{$:"noModule",SCRIPT:1},playsinline:{$:"playsInline",VIDEO:1},readonly:{$:"readOnly",INPUT:1,TEXTAREA:1},adauctionheaders:{$:"adAuctionHeaders",IFRAME:1},allowfullscreen:{$:"allowFullscreen",IFRAME:1},browsingtopics:{$:"browsingTopics",IMG:1},defaultchecked:{$:"defaultChecked",INPUT:1},defaultmuted:{$:"defaultMuted",AUDIO:1,VIDEO:1},defaultselected:{$:"defaultSelected",OPTION:1},disablepictureinpicture:{$:"disablePictureInPicture",VIDEO:1},disableremoteplayback:{$:"disableRemotePlayback",AUDIO:1,VIDEO:1},preservespitch:{$:"preservesPitch",AUDIO:1,VIDEO:1},shadowrootclonable:{$:"shadowRootClonable",TEMPLATE:1},shadowrootdelegatesfocus:{$:"shadowRootDelegatesFocus",TEMPLATE:1},shadowrootserializable:{$:"shadowRootSerializable",TEMPLATE:1},sharedstoragewritable:{$:"sharedStorageWritable",IFRAME:1,IMG:1}});function Ct(e,t){const n=$t[e];return typeof n=="object"?n[t]?n.$:void 0:n}const kt=new Set(["beforeinput","click","dblclick","contextmenu","focusin","focusout","input","keydown","keyup","mousedown","mousemove","mouseout","mouseover","mouseup","pointerdown","pointermove","pointerout","pointerover","pointerup","touchend","touchmove","touchstart"]),St=new Set(["altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignObject","g","glyph","glyphRef","hkern","image","line","linearGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","set","stop","svg","switch","symbol","text","textPath","tref","tspan","use","view","vkern"]),Et={xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace"},Z=e=>S(()=>e());function Mt(e,t,n){let o=n.length,i=t.length,r=o,l=0,s=0,c=t[i-1].nextSibling,a=null;for(;l<i||s<r;){if(t[l]===n[s]){l++,s++;continue}for(;t[i-1]===n[r-1];)i--,r--;if(i===l){const f=r<o?s?n[s-1].nextSibling:n[r-s]:c;for(;s<r;)e.insertBefore(n[s++],f)}else if(r===s)for(;l<i;)(!a||!a.has(t[l]))&&t[l].remove(),l++;else if(t[l]===n[r-1]&&n[s]===t[i-1]){const f=t[--i].nextSibling;e.insertBefore(n[s++],t[l++].nextSibling),e.insertBefore(n[--r],f),t[i]=n[r]}else{if(!a){a=new Map;let d=s;for(;d<r;)a.set(n[d],d++)}const f=a.get(t[l]);if(f!=null)if(s<f&&f<r){let d=l,w=1,y;for(;++d<i&&d<r&&!((y=a.get(t[d]))==null||y!==f+w);)w++;if(w>f-s){const p=t[l];for(;s<f;)e.insertBefore(n[s++],p)}else e.replaceChild(n[s++],t[l++])}else l++;else t[l++].remove()}}}const _e="_$DX_DELEGATE";function Pt(e,t,n,o={}){let i;return se(r=>{i=r,t===document?e():$(t,e(),t.firstChild?null:void 0,n)},o.owner),()=>{i(),t.textContent=""}}function C(e,t,n,o){let i;const r=()=>{const s=document.createElement("template");return s.innerHTML=e,s.content.firstChild},l=()=>(i||(i=r())).cloneNode(!0);return l.cloneNode=l,l}function I(e,t=window.document){const n=t[_e]||(t[_e]=new Set);for(let o=0,i=e.length;o<i;o++){const r=e[o];n.has(r)||(n.add(r),t.addEventListener(r,Tt))}}function A(e,t,n){n==null?e.removeAttribute(t):e.setAttribute(t,n)}function At(e,t,n,o){o==null?e.removeAttributeNS(t,n):e.setAttributeNS(t,n,o)}function Lt(e,t,n){n?e.setAttribute(t,""):e.removeAttribute(t)}function Ge(e,t){t==null?e.removeAttribute("class"):e.className=t}function qe(e,t,n,o){if(o)Array.isArray(n)?(e[`$$${t}`]=n[0],e[`$$${t}Data`]=n[1]):e[`$$${t}`]=n;else if(Array.isArray(n)){const i=n[0];e.addEventListener(t,n[0]=r=>i.call(e,n[1],r))}else e.addEventListener(t,n,typeof n!="function"&&n)}function zt(e,t,n={}){const o=Object.keys(t||{}),i=Object.keys(n);let r,l;for(r=0,l=i.length;r<l;r++){const s=i[r];!s||s==="undefined"||t[s]||(Ne(e,s,!1),delete n[s])}for(r=0,l=o.length;r<l;r++){const s=o[r],c=!!t[s];!s||s==="undefined"||n[s]===c||!c||(Ne(e,s,!0),n[s]=c)}return n}function ve(e,t,n){if(!t)return n?A(e,"style"):t;const o=e.style;if(typeof t=="string")return o.cssText=t;typeof n=="string"&&(o.cssText=n=void 0),n||(n={}),t||(t={});let i,r;for(r in n)t[r]==null&&o.removeProperty(r),delete n[r];for(r in t)i=t[r],i!==n[r]&&(o.setProperty(r,i),n[r]=i);return n}function _(e,t,n){n!=null?e.style.setProperty(t,n):e.style.removeProperty(t)}function Ot(e,t={},n,o){const i={};return P(()=>i.children=J(e,t.children,i.children)),P(()=>typeof t.ref=="function"&&H(t.ref,e)),P(()=>_t(e,t,n,!0,i,!0)),i}function H(e,t,n){return D(()=>e(t,n))}function $(e,t,n,o){if(n!==void 0&&!o&&(o=[]),typeof t!="function")return J(e,t,o,n);P(i=>J(e,t(),i,n),o)}function _t(e,t,n,o,i={},r=!1){t||(t={});for(const l in i)if(!(l in t)){if(l==="children")continue;i[l]=Te(e,l,null,i[l],n,r,t)}for(const l in t){if(l==="children")continue;const s=t[l];i[l]=Te(e,l,s,i[l],n,r,t)}}function Nt(e){return e.toLowerCase().replace(/-([a-z])/g,(t,n)=>n.toUpperCase())}function Ne(e,t,n){const o=t.trim().split(/\s+/);for(let i=0,r=o.length;i<r;i++)e.classList.toggle(o[i],n)}function Te(e,t,n,o,i,r,l){let s,c,a,f,d;if(t==="style")return ve(e,n,o);if(t==="classList")return zt(e,n,o);if(n===o)return o;if(t==="ref")r||n(e);else if(t.slice(0,3)==="on:"){const w=t.slice(3);o&&e.removeEventListener(w,o,typeof o!="function"&&o),n&&e.addEventListener(w,n,typeof n!="function"&&n)}else if(t.slice(0,10)==="oncapture:"){const w=t.slice(10);o&&e.removeEventListener(w,o,!0),n&&e.addEventListener(w,n,!0)}else if(t.slice(0,2)==="on"){const w=t.slice(2).toLowerCase(),y=kt.has(w);if(!y&&o){const p=Array.isArray(o)?o[0]:o;e.removeEventListener(w,p)}(y||n)&&(qe(e,w,n,y),y&&I([w]))}else if(t.slice(0,5)==="attr:")A(e,t.slice(5),n);else if(t.slice(0,5)==="bool:")Lt(e,t.slice(5),n);else if((d=t.slice(0,5)==="prop:")||(a=pt.has(t))||!i&&((f=Ct(t,e.tagName))||(c=bt.has(t)))||(s=e.nodeName.includes("-")||"is"in l))d&&(t=t.slice(5),c=!0),t==="class"||t==="className"?Ge(e,n):s&&!c&&!a?e[Nt(t)]=n:e[f||t]=n;else{const w=i&&t.indexOf(":")>-1&&Et[t.split(":")[0]];w?At(e,w,t,n):A(e,xt[t]||t,n)}return n}function Tt(e){let t=e.target;const n=`$$${e.type}`,o=e.target,i=e.currentTarget,r=c=>Object.defineProperty(e,"target",{configurable:!0,value:c}),l=()=>{const c=t[n];if(c&&!t.disabled){const a=t[`${n}Data`];if(a!==void 0?c.call(t,a,e):c.call(t,e),e.cancelBubble)return}return t.host&&typeof t.host!="string"&&!t.host._$host&&t.contains(e.target)&&r(t.host),!0},s=()=>{for(;l()&&(t=t._$host||t.parentNode||t.host););};if(Object.defineProperty(e,"currentTarget",{configurable:!0,get(){return t||document}}),e.composedPath){const c=e.composedPath();r(c[0]);for(let a=0;a<c.length-2&&(t=c[a],!!l());a++){if(t._$host){t=t._$host,s();break}if(t.parentNode===i)break}}else s();r(o)}function J(e,t,n,o,i){for(;typeof n=="function";)n=n();if(t===n)return n;const r=typeof t,l=o!==void 0;if(e=l&&n[0]&&n[0].parentNode||e,r==="string"||r==="number"){if(r==="number"&&(t=t.toString(),t===n))return n;if(l){let s=n[0];s&&s.nodeType===3?s.data!==t&&(s.data=t):s=document.createTextNode(t),n=Y(e,n,o,s)}else n!==""&&typeof n=="string"?n=e.firstChild.data=t:n=e.textContent=t}else if(t==null||r==="boolean")n=Y(e,n,o);else{if(r==="function")return P(()=>{let s=t();for(;typeof s=="function";)s=s();n=J(e,s,n,o)}),()=>n;if(Array.isArray(t)){const s=[],c=n&&Array.isArray(n);if(ke(s,t,n,i))return P(()=>n=J(e,s,n,o,!0)),()=>n;if(s.length===0){if(n=Y(e,n,o),l)return n}else c?n.length===0?Ie(e,s,o):Mt(e,n,s):(n&&Y(e),Ie(e,s));n=s}else if(t.nodeType){if(Array.isArray(n)){if(l)return n=Y(e,n,o,t);Y(e,n,null,t)}else n==null||n===""||!e.firstChild?e.appendChild(t):e.replaceChild(t,e.firstChild);n=t}}return n}function ke(e,t,n,o){let i=!1;for(let r=0,l=t.length;r<l;r++){let s=t[r],c=n&&n[e.length],a;if(!(s==null||s===!0||s===!1))if((a=typeof s)=="object"&&s.nodeType)e.push(s);else if(Array.isArray(s))i=ke(e,s,c)||i;else if(a==="function")if(o){for(;typeof s=="function";)s=s();i=ke(e,Array.isArray(s)?s:[s],Array.isArray(c)?c:[c])||i}else e.push(s),i=!0;else{const f=String(s);c&&c.nodeType===3&&c.data===f?e.push(c):e.push(document.createTextNode(f))}}return i}function Ie(e,t,n=null){for(let o=0,i=t.length;o<i;o++)e.insertBefore(t[o],n)}function Y(e,t,n,o){if(n===void 0)return e.textContent="";const i=o||document.createTextNode("");if(t.length){let r=!1;for(let l=t.length-1;l>=0;l--){const s=t[l];if(i!==s){const c=s.parentNode===e;!r&&!l?c?e.replaceChild(i,s):e.insertBefore(i,n):c&&s.remove()}else r=!0}}else e.insertBefore(i,n);return[i]}const It="http://www.w3.org/2000/svg";function Dt(e,t=!1,n=void 0){return t?document.createElementNS(It,e):document.createElement(e,{is:n})}function jt(e,t){const n=S(e);return S(()=>{const o=n();switch(typeof o){case"function":return D(()=>o(t));case"string":const i=St.has(o),r=Dt(o,i,D(()=>t.is));return Ot(r,t,i),r}})}function Se(e){const[,t]=mt(e,["component"]);return jt(()=>e.component,t)}const Ee=(e,t)=>Math.round(e/t)*t,ue=(e,t,n,o)=>o?{x:(e-o.left-n.x)/n.zoom,y:(t-o.top-n.y)/n.zoom}:null,fe=(e,t,n,o)=>{const i=(e-t)/n;return o?Ee(i,o):i},We=()=>{document.documentElement.style.userSelect="none"},Qe=()=>{document.documentElement.style.userSelect="auto"},ze=e=>{let t=!1,n,o=null,i=null,r=null;const l=a=>{!t||n===void 0||a.pointerId!==o||(e.preventDefault&&a.preventDefault(),e.onMove(a,n))},s=a=>{!t||a.pointerId!==o||(t=!1,e.preventDefault&&a.preventDefault(),e.onEnd&&n!==void 0&&e.onEnd(a,n),e.disableSelection&&Qe(),r?.abort(),r=null,i&&i.hasPointerCapture(a.pointerId)&&i.releasePointerCapture(a.pointerId),o=null,i=null)};return{onPointerDown:a=>{if(t)return;const f=e.onStart?.(a);if(f===void 0)return;e.stopPropagation&&a.stopPropagation(),e.preventDefault&&a.preventDefault(),t=!0,n=f,o=a.pointerId,e.disableSelection&&We(),r=new AbortController;const d=a.currentTarget;d&&d.setPointerCapture&&(d.setPointerCapture(a.pointerId),i=d),window.addEventListener("pointermove",l,{signal:r.signal}),window.addEventListener("pointerup",s,{signal:r.signal}),window.addEventListener("pointercancel",s,{signal:r.signal})}}};var Rt=C("<div class=node-anchor>");const De=["left","right","top","bottom"],Vt=e=>{let t,n=!1;const o=c=>{if(!e.kit.activeConnection.from)return;const a=ue(c.clientX,c.clientY,e.kit.viewport(),e.kit.container?.getBoundingClientRect());a&&e.kit.setActiveConnectionDestination(a)},i=()=>{if(!n){s();return}const c=e.kit;if(c.activeConnection.from){let a=c.activeConnection.to;if(!a){const f=c.activeConnectionDestination(),d=e.kit.gridSize();if(f){const w=Ee(f.x-75,d),y=Ee(f.y,d),p=Math.round(150/d),u=Math.round(60/d),h=c.randomId("node"),g={x:w,y,width:p*c.gridSize(),height:u*c.gridSize(),data:{label:"Node",component:{type:"default"}},...c.defaultNode,id:h};c.setNodes([...c.nodes,g]),c.updateNodes();const m=c.activeConnection.from.side,b=De[De.indexOf(m)^1];a={id:h,side:b}}}if(a&&c.activeConnection.from.id!==a.id){const f={id:c.randomId("connection"),from:c.activeConnection.from,to:a};c.setConnections([...c.connections,f]),c.updateConnections()}}s()},r=()=>{if(!t)return;const{x:c,y:a,width:f,height:d}=t.getBoundingClientRect();We(),e.kit.activeConnection={from:{side:e.side,id:e.id}};const w=ue(c+f/2,a+d/2,e.kit.viewport(),e.kit.container?.getBoundingClientRect());w&&e.kit.setActiveConnectionDestination(w)},l=c=>{c.stopPropagation(),c.preventDefault(),c.clientX,c.clientY,n=!0,r(),window.addEventListener("pointermove",o),window.addEventListener("pointerup",i,{once:!0}),window.addEventListener("pointercancel",i,{once:!0})},s=()=>{Qe(),e.kit.setActiveConnectionDestination(null),e.kit.activeConnection={},window.removeEventListener("pointermove",o),window.removeEventListener("pointerup",i),window.removeEventListener("pointercancel",i)};return(()=>{var c=Rt();c.$$pointerdown=l;var a=t;return typeof a=="function"?H(a,c):t=c,c})()};I(["pointerdown"]);var Bt=C("<div class=node-edge>");const Xt=e=>{const t=["tl","tr","bl","br"].includes(e.side),n=(()=>{switch(e.side){case"top":case"bottom":case"left":case"right":return{[e.side]:"var(--off-v)"};case"tl":return{top:"var(--off-v)",left:"var(--off-v)"};case"tr":return{top:"var(--off-v)",right:"var(--off-v)"};case"bl":return{bottom:"var(--off-v)",left:"var(--off-v)"};case"br":return{bottom:"var(--off-v)",right:"var(--off-v)"}}})(),o={top:{axis:"y",sign:-1,cursor:"ns-resize"},bottom:{axis:"y",sign:1,cursor:"ns-resize"},left:{axis:"x",sign:-1,cursor:"ew-resize"},right:{axis:"x",sign:1,cursor:"ew-resize"}}[e.side],i=e.side==="tl"?[{axis:"x",sign:-1},{axis:"y",sign:-1}]:e.side==="tr"?[{axis:"x",sign:1},{axis:"y",sign:-1}]:e.side==="bl"?[{axis:"x",sign:-1},{axis:"y",sign:1}]:e.side==="br"?[{axis:"x",sign:1},{axis:"y",sign:1}]:[],r=t?i:[o],l=t?e.side==="tl"||e.side==="br"?"nwse-resize":"nesw-resize":o?.cursor??"default",s=S(()=>{const d="calc(var(--node-border-width, 2px) + 10px)";return t?{width:d,height:d,cursor:l}:{width:o.axis==="y"?"100%":d,height:o.axis==="y"?d:"100%",cursor:l}}),c=ze({onStart:d=>({width:e.node.width,height:e.node.height,x:e.node.x,y:e.node.y,clientX:d.clientX,clientY:d.clientY,vp:e.kit.viewport(),gridSize:e.kit.gridSize()}),onMove:(d,w)=>{let{width:y,height:p,x:u,y:h,vp:g,gridSize:m}=w;for(const b of r){const v=g.zoom,z=(b.axis==="x"?fe(d.clientX,w.clientX,v,m):fe(d.clientY,w.clientY,v,m))*b.sign;b.axis==="x"?(y+=z,(e.side==="left"||e.side==="tl"||e.side==="bl")&&(u-=z)):(p+=z,(e.side==="top"||e.side==="tl"||e.side==="tr")&&(h-=z))}e.kit.setNodes(b=>b.id===e.node.id,{width:y,height:p,x:u,y:h})},onEnd:(d,w)=>{["width","height","x","y"].some(y=>w[y]!==e.node[y])&&e.kit.updateNodes()},stopPropagation:!0,preventDefault:!0,disableSelection:!0}),a=()=>{const{from:d}=e.kit.activeConnection;!d||t||(e.kit.activeConnection={from:d,to:{side:e.side,id:e.node.id}})},f=()=>{const{from:d}=e.kit.activeConnection;d&&(e.kit.activeConnection={from:d})};return(()=>{var d=Bt();return qe(d,"pointerdown",c.onPointerDown,!0),d.addEventListener("pointerleave",f),d.addEventListener("pointerenter",a),$(d,x(N,{when:!t,get children(){return x(Vt,{get side(){return e.side},get kit(){return e.kit},get id(){return e.node.id}})}})),P(w=>ve(d,{...s(),...n},w)),d})()};I(["pointerdown"]);var Yt=C('<div class=node-toolbar style="position:absolute;top:var(--top, 0);left:var(--left, calc(100% + 1em))">'),Ft=C("<span class=node-label contenteditable=true style=top:-2em;left:0;width:var(--size);height:var(--size);display:flex;align-items:center;justify-content:center;outline:none>"),Ht=C("<div class=node-component style=width:100%;height:100%>"),Ut=C("<div>");const Kt=({node:e,components:t={},kit:n})=>{const o=S(()=>n.gridSize()),i=S(()=>e.data?.component?.type),r=S(()=>e.data?.component?.type?!!t[e.data.component.type]:!1),l=S(()=>!!t?.["node-toolbar"]),s=S(()=>n?n.selectedItems().has(e.id):!1),c=u=>{const h=new Set(n.selectedItems());u?h.add(e.id):h.delete(e.id),n.setSelectedItems(h)};let a;const f=new AbortController,d=ze({onStart:u=>{if(c(!0),n.focus()){u.stopPropagation();return}return{x:e.x,y:e.y,clientX:u.clientX,clientY:u.clientY,zoom:n.viewport().zoom,gridSize:o()}},onMove:(u,h)=>{const g=u.clientX,m=u.clientY,b=fe(g,h.clientX,h.zoom,h.gridSize),v=fe(m,h.clientY,h.zoom,h.gridSize),k=h.x+b,z=h.y+v;n.setNodes(V=>V.id===e.id,{x:k,y:z})},onEnd:(u,h)=>{(h.x!==e.x||h.y!==e.y)&&n.updateNodes()},preventDefault:!0}),w=u=>{d.onPointerDown(u)};Pe(()=>{a&&(s()?(a.focus(),window.addEventListener("pointerdown",y,{signal:f.signal}),window.addEventListener("keydown",p,{signal:f.signal})):a.classList.contains("selected")&&a.blur())});const y=u=>{const h=u.target;a&&!a.contains(h)&&!u.ctrlKey&&(c(!1),window.removeEventListener("pointerdown",y),window.removeEventListener("keydown",p))},p=u=>{u.key==="Escape"&&(c(!1),window.removeEventListener("keydown",p))};return U(()=>{f.abort()}),(()=>{var u=Ut();u.$$pointerdown=w;var h=a;return typeof h=="function"?H(h,u):a=u,$(u,x(N,{get when(){return Z(()=>!!l())()&&s()},get children(){var g=Yt();return $(g,x(Se,{get component(){return t?.["node-toolbar"]},kit:n,node:e})),g}}),null),$(u,x(N,{get when(){return e.data?.label},get children(){var g=Ft();return g.$$keydown=m=>{m.key==="Escape"&&m.currentTarget.blur()},g.addEventListener("blur",m=>{const b=m.currentTarget.innerText.trim().length===0?void 0:m.currentTarget.innerText;n.setNodes(v=>v.id===e.id,"data","label",b),n.updateNodes(),console.log(n.nodes.find(v=>v.id===e.id)?.data?.label)}),$(g,()=>e.data?.label),P(m=>{var b=i()&&r()?"fit-content":"100%",v=i()&&r()?"absolute":"static";return b!==m.e&&_(g,"--size",m.e=b),v!==m.t&&_(g,"position",m.t=v),m},{e:void 0,t:void 0}),g}}),null),$(u,x(N,{get when(){return Z(()=>!!(i()&&t))()&&r()},get children(){var g=Ht();return $(g,x(Se,wt({get component(){return t[i()]}},()=>e.data?.component?.props,{node:e,kit:n}))),g}}),null),$(u,x(Q,{each:["left","top","right","bottom","tl","tr","br","bl"],children:g=>x(Xt,{side:g,node:e,kit:n})}),null),P(g=>{var m=`node ${e.class??""} `,b=!!s(),v=e.id,k={transform:`translate(${e.x}px, ${e.y}px)`,width:`${e.width}px`,height:`${e.height}px`,cursor:n.focus()?"auto":"grab",...e.style};return m!==g.e&&Ge(u,g.e=m),b!==g.t&&u.classList.toggle("selected",g.t=b),v!==g.a&&A(u,"id",g.a=v),g.o=ve(u,k,g.o),g},{e:void 0,t:void 0,a:void 0,o:void 0}),u})()};I(["pointerdown","keydown"]);const Me=Symbol("store-raw"),F=Symbol("store-node"),j=Symbol("store-has"),Ze=Symbol("store-self");function Je(e){let t=e[T];if(!t&&(Object.defineProperty(e,T,{value:t=new Proxy(e,Wt)}),!Array.isArray(e))){const n=Object.keys(e),o=Object.getOwnPropertyDescriptors(e);for(let i=0,r=n.length;i<r;i++){const l=n[i];o[l].get&&Object.defineProperty(e,l,{enumerable:o[l].enumerable,get:o[l].get.bind(t)})}}return t}function he(e){let t;return e!=null&&typeof e=="object"&&(e[T]||!(t=Object.getPrototypeOf(e))||t===Object.prototype||Array.isArray(e))}function ee(e,t=new Set){let n,o,i,r;if(n=e!=null&&e[Me])return n;if(!he(e)||t.has(e))return e;if(Array.isArray(e)){Object.isFrozen(e)?e=e.slice(0):t.add(e);for(let l=0,s=e.length;l<s;l++)i=e[l],(o=ee(i,t))!==i&&(e[l]=o)}else{Object.isFrozen(e)?e=Object.assign({},e):t.add(e);const l=Object.keys(e),s=Object.getOwnPropertyDescriptors(e);for(let c=0,a=l.length;c<a;c++)r=l[c],!s[r].get&&(i=e[r],(o=ee(i,t))!==i&&(e[r]=o))}return e}function ge(e,t){let n=e[t];return n||Object.defineProperty(e,t,{value:n=Object.create(null)}),n}function te(e,t,n){if(e[t])return e[t];const[o,i]=O(n,{equals:!1,internal:!0});return o.$=i,e[t]=o}function Gt(e,t){const n=Reflect.getOwnPropertyDescriptor(e,t);return!n||n.get||!n.configurable||t===T||t===F||(delete n.value,delete n.writable,n.get=()=>e[T][t]),n}function et(e){$e()&&te(ge(e,F),Ze)()}function qt(e){return et(e),Reflect.ownKeys(e)}const Wt={get(e,t,n){if(t===Me)return e;if(t===T)return n;if(t===xe)return et(e),n;const o=ge(e,F),i=o[t];let r=i?i():e[t];if(t===F||t===j||t==="__proto__")return r;if(!i){const l=Object.getOwnPropertyDescriptor(e,t);$e()&&(typeof r!="function"||e.hasOwnProperty(t))&&!(l&&l.get)&&(r=te(o,t,r)())}return he(r)?Je(r):r},has(e,t){return t===Me||t===T||t===xe||t===F||t===j||t==="__proto__"?!0:($e()&&te(ge(e,j),t)(),t in e)},set(){return!0},deleteProperty(){return!0},ownKeys:qt,getOwnPropertyDescriptor:Gt};function we(e,t,n,o=!1){if(!o&&e[t]===n)return;const i=e[t],r=e.length;n===void 0?(delete e[t],e[j]&&e[j][t]&&i!==void 0&&e[j][t].$()):(e[t]=n,e[j]&&e[j][t]&&i===void 0&&e[j][t].$());let l=ge(e,F),s;if((s=te(l,t,i))&&s.$(()=>n),Array.isArray(e)&&e.length!==r){for(let c=e.length;c<r;c++)(s=l[c])&&s.$();(s=te(l,"length",r))&&s.$(e.length)}(s=l[Ze])&&s.$()}function tt(e,t){const n=Object.keys(t);for(let o=0;o<n.length;o+=1){const i=n[o];we(e,i,t[i])}}function Qt(e,t){if(typeof t=="function"&&(t=t(e)),t=ee(t),Array.isArray(t)){if(e===t)return;let n=0,o=t.length;for(;n<o;n++){const i=t[n];e[n]!==i&&we(e,n,i)}we(e,"length",o)}else tt(e,t)}function q(e,t,n=[]){let o,i=e;if(t.length>1){o=t.shift();const l=typeof o,s=Array.isArray(e);if(Array.isArray(o)){for(let c=0;c<o.length;c++)q(e,[o[c]].concat(t),n);return}else if(s&&l==="function"){for(let c=0;c<e.length;c++)o(e[c],c)&&q(e,[c].concat(t),n);return}else if(s&&l==="object"){const{from:c=0,to:a=e.length-1,by:f=1}=o;for(let d=c;d<=a;d+=f)q(e,[d].concat(t),n);return}else if(t.length>1){q(e[o],t,[o].concat(n));return}i=e[o],n=[o].concat(n)}let r=t[0];typeof r=="function"&&(r=r(i,n),r===i)||o===void 0&&r==null||(r=ee(r),o===void 0||he(i)&&he(r)&&!Array.isArray(r)?tt(i,r):we(e,o,r))}function je(...[e,t]){const n=ee(e||{}),o=Array.isArray(n),i=Je(n);function r(...l){lt(()=>{o&&l.length===1?Qt(n,l[0]):q(n,l)})}return[i,r]}const Zt=e=>{const[t,n]=je(e.nodes||[]),[o,i]=je(e.connections||[]),[r,l]=O(e.viewport||{x:0,y:0,zoom:1}),[s,c]=O(!1),[a,f]=O(new Set),[d,w]=O(null),[y,p]=O(e.gridSize??30);return{nodes:t,setNodes:n,connections:o,setConnections:i,viewport:r,setViewport:l,focus:s,setFocus:c,selectedItems:a,setSelectedItems:f,activeConnectionDestination:d,setActiveConnectionDestination:w,activeConnection:{},container:null,gridSize:y,setGridSize:p,updateNodes:()=>e.onNodesChange?.(t),updateConnections:()=>e.onConnectionsChange?.(o),updateViewport:()=>e.onViewportChange?.(r()),randomId:b=>b+"-"+Math.random().toString(36).substring(2,10),defaultNode:e.defaultNode}};function nt({start:e,startPos:t,end:n,endPos:o,curve:i=9}){const r=d=>d>0?.5*d:d===0?i*5:i*Math.sqrt(-d),l=(d,w,y)=>d==="left"?[w.x-r(w.x-y.x),w.y]:d==="right"?[w.x+r(y.x-w.x),w.y]:d==="top"?[w.x,w.y-r(w.y-y.y)]:[w.x,w.y+r(y.y-w.y)],[s,c]=l(t,e,n),[a,f]=l(o,n,e);return`M${e.x},${e.y} C${s},${c} ${a},${f} ${n.x},${n.y}`}var Jt=C("<svg stroke=currentColor style=z-index:0;overflow:visible;position:absolute><g style=outline:0><path fill=none style></path><path stroke-width=20 stroke=transparent fill=none>"),en=C('<div class=connection-toolbar style="position:absolute;left:calc(var(--mid-x) + var(--left, 0px));top:calc(var(--mid-y) + var(--top, -2em));transform:translate(-50%, -50%)">'),tn=C('<span class=connection-label contenteditable=true style="position:absolute;z-index:1000;transform:translate(-50%, -50%)">');const nn=e=>{let t,n;const o=e.kit,i=S(()=>o?o.selectedItems().has(e.connection.id):!1),r=u=>o.nodes.find(h=>h.id===u),l=S(()=>{const{from:u,to:h}=e.connection,g=r(u.id),m=r(h.id),b=(v,k)=>{switch(k){case"top":return{x:v.x+v.width/2,y:v.y};case"bottom":return{x:v.x+v.width/2,y:v.y+v.height};case"left":return{x:v.x,y:v.y+v.height/2};case"right":return{x:v.x+v.width,y:v.y+v.height/2}}};return{source:b(g,u.side),target:b(m,h.side)}}),s=S(()=>({x:(l().source.x+l().target.x)/2,y:(l().source.y+l().target.y)/2})),c=u=>{const h=new Set(o.selectedItems());u?h.add(e.connection.id):h.delete(e.connection.id),o.setSelectedItems(h)},a=S(()=>{const{source:u,target:h}=l(),{from:g,to:m}=e.connection;return nt({start:u,startPos:g.side,end:h,endPos:m.side})}),f=u=>{o.setConnections(h=>h.id===e.connection.id,"label",u),o.updateConnections()},d=()=>{c(!0)},w=new AbortController;Pe(()=>{t&&(i()?(t.focus(),window.addEventListener("mousedown",y,{signal:w.signal}),window.addEventListener("keydown",p,{signal:w.signal})):t.classList.contains("selected")&&t.blur())});const y=u=>{const h=u.target;n&&n.contains(h)||t&&!t.contains(h)&&!u.ctrlKey&&(c(!1),window.removeEventListener("mousedown",y),window.removeEventListener("keydown",p))},p=u=>{u.key==="Escape"&&(c(!1),window.removeEventListener("keydown",p))};return U(()=>{w.abort()}),[(()=>{var u=Jt(),h=u.firstChild,g=h.firstChild,m=g.nextSibling;u.$$dblclick=()=>f("Test"),h.$$mousedown=d;var b=t;return typeof b=="function"?H(b,h):t=h,P(v=>{var k=`connection-svg ${e.connection.class??""}`,z=e.connection.id,V=`connection ${e.connection.class??""}`,X=!!i(),oe={...e.connection.style},G=a(),ie=a();return k!==v.e&&A(u,"class",v.e=k),z!==v.t&&A(h,"id",v.t=z),V!==v.a&&A(h,"class",v.a=V),X!==v.o&&h.classList.toggle("selected",v.o=X),v.i=ve(h,oe,v.i),G!==v.n&&A(g,"d",v.n=G),ie!==v.s&&A(m,"d",v.s=ie),v},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0,s:void 0}),u})(),x(N,{get when(){return Z(()=>!!e.Toolbar)()&&i()},get children(){var u=en(),h=n;return typeof h=="function"?H(h,u):n=u,$(u,x(Se,{get component(){return e.Toolbar},kit:o,get connection(){return e.connection}})),P(g=>{var m=s().x+"px",b=s().y+"px";return m!==g.e&&_(u,"--mid-x",g.e=m),b!==g.t&&_(u,"--mid-y",g.t=b),g},{e:void 0,t:void 0}),u}}),x(N,{get when(){return e.connection.label!==void 0},get children(){var u=tn();return u.$$keydown=h=>{h.key==="Enter"&&h.currentTarget.blur()},u.addEventListener("blur",h=>{const g=h.currentTarget.innerText.trim().length===0?void 0:h.currentTarget.innerText;f(g)}),$(u,()=>e.connection.label),P(h=>{var g=s().x+"px",m=s().y+"px";return g!==h.e&&_(u,"left",h.e=g),m!==h.t&&_(u,"top",h.t=m),h},{e:void 0,t:void 0}),u}})]};I(["dblclick","mousedown","keydown"]);var on=C('<svg stroke=currentColor style=z-index:0;overflow:visible;position:absolute><g tabindex=0 class="connection connection-preview"><path fill=none style="stroke-width:var(--connection-width, 2)">');const Re=["top","bottom","left","right"],rn=e=>{const t=e.kit.activeConnectionDestination(),n=e.kit.activeConnection.from.side,o=S(()=>nt({start:t,startPos:n,end:e.kit.activeConnectionDestination(),endPos:e.kit.activeConnection.to?.side??Re[Re.indexOf(n)^1]??"top"})),i=r=>{const{x:l,y:s,zoom:c}=e.kit.viewport(),a=e.kit.container?.getBoundingClientRect();a&&e.kit.setActiveConnectionDestination({x:(r.clientX-a.left-l)/c,y:(r.clientY-a.top-s)/c})};return Ae(()=>{window.addEventListener("mousemove",i)}),U(()=>{window.removeEventListener("mousemove",i)}),(()=>{var r=on(),l=r.firstChild,s=l.firstChild;return P(()=>A(s,"d",o())),r})()};var sn=C('<div class=kit-selection-rect style="position:absolute;border:1px solid rgb(var(--selection-rgb, 0,120,215));background-color:rgba(var(--selection-rgb, 0,120,215), 0.3)">');const ln=({kit:e})=>{const[t,n]=O(!1);let o={x:0,y:0};const[i,r]=O({x:0,y:0}),l=()=>{const a=o,f=i();return{left:Math.min(a.x,f.x),top:Math.min(a.y,f.y),right:Math.max(a.x,f.x),bottom:Math.max(a.y,f.y),width:Math.abs(a.x-f.x),height:Math.abs(a.y-f.y)}};function s(){const a=l(),f=e.container.getBoundingClientRect(),d=[];e.container.querySelectorAll(".node, .connection").forEach(y=>{const p=y.getBoundingClientRect(),u=e.viewport(),h={left:(p.left-f.left-u.x)/u.zoom,top:(p.top-f.top-u.y)/u.zoom,right:(p.right-f.left-u.x)/u.zoom,bottom:(p.bottom-f.top-u.y)/u.zoom};if(!(h.left>a.right||h.right<a.left||h.top>a.bottom||h.bottom<a.top)){const m=y.getAttribute("id");m&&d.push(m)}}),e.setSelectedItems(new Set(d))}const c=ze({onStart:a=>{if(a.button!==0)return;const f=ue(a.clientX,a.clientY,e.viewport(),e.container.getBoundingClientRect());if(f)return o=f,r(f),n(!0),f},onMove:(a,f)=>{const d=ue(a.clientX,a.clientY,e.viewport(),e.container.getBoundingClientRect());d&&r(d)},onEnd:()=>{n(!1),s()},disableSelection:!0});return Ae(()=>{window.addEventListener("pointerdown",c.onPointerDown)}),U(()=>{window.removeEventListener("pointerdown",c.onPointerDown)}),x(N,{get when(){return t()},get children(){var a=sn();return P(f=>{var d=`${l().left}px`,w=`${l().top}px`,y=`${l().width}px`,p=`${l().height}px`;return d!==f.e&&_(a,"left",f.e=d),w!==f.t&&_(a,"top",f.t=w),y!==f.a&&_(a,"width",f.a=y),p!==f.o&&_(a,"height",f.o=p),f},{e:void 0,t:void 0,a:void 0,o:void 0}),a}})};var cn=C('<div class=solid-kitx><div class=container style="transform-origin:0 0">');const an=({gridSize:e=30,...t})=>{const n=Zt({...t,gridSize:e}),o=S(()=>n.viewport());let i={x:0,y:0,zoom:1};const r=new Map;let l=0;const s=u=>{if(!n.focus()&&!u.target.closest(".node")){if(r.set(u.pointerId,{x:u.clientX,y:u.clientY}),r.size===1&&(i=n.viewport()),r.size===2){const[h,g]=Array.from(r.values());h&&g&&(l=Math.hypot(h.x-g.x,h.y-g.y))}window.addEventListener("pointermove",c),window.addEventListener("pointerup",a),window.addEventListener("pointercancel",a)}},c=u=>{if(!r.has(u.pointerId))return;const h=r.get(u.pointerId);if(h){if(r.set(u.pointerId,{x:u.clientX,y:u.clientY}),r.size===2&&l>0){u.preventDefault();const[g,m]=Array.from(r.values());if(!g||!m)return;const v=Math.hypot(g.x-m.x,g.y-m.y)/l,k=Math.max(.1,Math.min(5,i.zoom*v)),z=(g.x+m.x)/2,V=(g.y+m.y)/2,X=w?.getBoundingClientRect();if(!X)return;const oe=z-X.left,G=V-X.top,ie=oe-(oe-i.x)*(k/i.zoom),ot=G-(G-i.y)*(k/i.zoom);n.setViewport({zoom:k,x:ie,y:ot})}else if(r.size===1){const g=u.clientX-h.x,m=u.clientY-h.y,b=n.viewport();n.setViewport({...b,x:b.x+g,y:b.y+m})}}},a=u=>{r.delete(u.pointerId),r.size===0&&(i!==n.viewport()&&n.updateViewport(),window.removeEventListener("pointermove",c),window.removeEventListener("pointerup",a),window.removeEventListener("pointercancel",a),l=0)},f=u=>{if(n.focus())return;u.preventDefault();const h=u.currentTarget.getBoundingClientRect(),g=u.clientX-h.left,m=u.clientY-h.top,b=n.viewport(),v=b.zoom,k=Math.max(.1,Math.min(5,v-u.deltaY*.001)),z=g-(g-b.x)/v*k,V=m-(m-b.y)/v*k;n.setViewport({zoom:k,x:z,y:V})},d=()=>{i!==n.viewport()&&(n.updateViewport(),i=n.viewport())};let w;const y=()=>{w&&(n.container=w)},p=u=>{const h=n.selectedItems();u.key==="Delete"&&h.size>0&&(n.setConnections(g=>g.filter(m=>!h.has(m.id)&&!h.has(m.from.id)&&!h.has(m.to.id))),n.setNodes(g=>g.filter(m=>!h.has(m.id))),n.updateNodes(),n.updateConnections())};return Ae(()=>{window.addEventListener("scrollend",d),y(),window.addEventListener("keydown",p)}),U(()=>{window.removeEventListener("scrollend",d),window.removeEventListener("pointermove",c),window.removeEventListener("pointerup",a),window.removeEventListener("pointercancel",a),window.removeEventListener("keydown",p)}),(()=>{var u=cn(),h=u.firstChild;u.addEventListener("wheel",f),u.$$pointerdown=s;var g=w;return typeof g=="function"?H(g,u):w=u,$(h,x(N,{get when(){return n.focus()},get children(){return x(ln,{kit:n})}}),null),$(h,x(Q,{get each(){return n.connections},children:m=>x(nn,{connection:m,get Toolbar(){return t.components?.["connection-toolbar"]},kit:n})}),null),$(h,x(N,{get when(){return n.activeConnectionDestination()},get children(){return x(rn,{kit:n})}}),null),$(h,x(Q,{get each(){return n.nodes},children:m=>x(Kt,{node:m,get components(){return t.components},kit:n})}),null),$(u,(()=>{var m=Z(()=>typeof t.children=="function");return()=>m()?t.children(n):t.children})(),null),P(m=>_(h,"transform",`translate(${o().x}px, ${o().y}px) scale(${o().zoom})`)),u})()};I(["pointerdown"]);var dn=C("<svg class=background-grid style=position:absolute;width:100%;height:100%><pattern id=grid-pattern patternUnits=userSpaceOnUse><circle fill=currentColor></circle></pattern><rect x=0 y=0 width=100% height=100% fill=url(#grid-pattern)>");const un=e=>{const t=S(()=>e.absoluteGrid??e.kit.gridSize()),n=S(()=>e.kit.viewport()),o=S(()=>t()*n().zoom);return(()=>{var i=dn(),r=i.firstChild,l=r.firstChild;return P(s=>{var c=n().x+o()/2,a=n().y+o()/2,f=o(),d=o(),w=n().zoom,y=n().zoom,p=n().zoom;return c!==s.e&&A(r,"x",s.e=c),a!==s.t&&A(r,"y",s.t=a),f!==s.a&&A(r,"width",s.a=f),d!==s.o&&A(r,"height",s.o=d),w!==s.i&&A(l,"cx",s.i=w),y!==s.n&&A(l,"cy",s.n=y),p!==s.s&&A(l,"r",s.s=p),s},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0,s:void 0}),i})()};var fn=C(`<div class=kit-controls><button><svg xmlns=http://www.w3.org/2000/svg viewBox="0 0 297 297"fill=currentColor><g><path d="M294.077,251.199l-59.105-59.107l42.167-24.356c3.295-1.903,5.212-5.52,4.938-9.315c-0.274-3.796-2.692-7.101-6.226-8.51
		L87.82,74.905c-3.686-1.472-7.895-0.605-10.702,2.201c-2.807,2.808-3.674,7.016-2.203,10.702l74.994,188.053
		c1.41,3.534,4.715,5.953,8.511,6.227c3.796,0.276,7.414-1.642,9.316-4.938l24.354-42.167l59.101,59.107
		c1.862,1.863,4.39,2.91,7.023,2.91c2.635,0,5.161-1.047,7.023-2.91l28.841-28.845C297.956,261.366,297.956,255.078,294.077,251.199
		z"></path><path d="M43.61,29.552c-3.879-3.876-10.166-3.877-14.047,0c-3.878,3.879-3.878,10.168,0,14.047l22.069,22.069
		c1.939,1.939,4.48,2.909,7.023,2.909c2.541,0,5.083-0.97,7.022-2.909c3.879-3.879,3.879-10.167,0-14.046L43.61,29.552z"></path><path d="M51.089,98.215c0-5.484-4.447-9.932-9.933-9.932H9.946c-5.485,0-9.933,4.447-9.933,9.932c0,5.485,4.447,9.933,9.933,9.933
		h31.21C46.642,108.147,51.089,103.7,51.089,98.215z"></path><path d="M47.063,128.869l-22.072,22.071c-3.878,3.879-3.878,10.168,0,14.046c1.94,1.939,4.482,2.909,7.023,2.909
		c2.541,0,5.084-0.97,7.023-2.909l22.071-22.07c3.879-3.879,3.879-10.168,0-14.047C57.23,124.993,50.944,124.992,47.063,128.869z"></path><path d="M98.222,51.078c5.485,0,9.933-4.447,9.933-9.933V9.932c0-5.485-4.447-9.932-9.933-9.932c-5.484,0-9.932,4.446-9.932,9.932
		v31.214C88.29,46.631,92.737,51.078,98.222,51.078z"></path><path d="M135.894,64.006c2.543,0,5.084-0.97,7.023-2.909l22.068-22.069c3.879-3.879,3.879-10.168,0-14.047
		c-3.879-3.877-10.168-3.877-14.046,0l-22.068,22.07c-3.879,3.879-3.879,10.168,0,14.046
		C130.811,63.036,133.352,64.006,135.894,64.006z"></path></g></svg></button><button class=control-button><svg viewBox="0 0 24 24"id=plus data-name="Flat Line"xmlns=http://www.w3.org/2000/svg stroke=currentColor><path d=M5,12H19M12,5V19 fill=none stroke-linecap=round stroke-linejoin=round stroke-width=2></path></svg></button><button class=control-button><svg viewBox="0 0 24 24"id=minus data-name="Flat Line"xmlns=http://www.w3.org/2000/svg stroke=currentColor><line fill=none stroke-linecap=round stroke-linejoin=round stroke-width=2 x1=19 y1=12 x2=5 y2=12></line></svg></button><button class=control-button><svg viewBox="0 0 24 24"id=maximize-size data-name="Flat Line"xmlns=http://www.w3.org/2000/svg fill=none stroke-linecap=round stroke-linejoin=round stroke-width=2 stroke=currentColor><path d=M9,9,3.29,3.29M15,9l5.71-5.71M9,15,3.29,20.71m17.42,0L15,15></path><path data-name=primary d=M3,8V4A1,1,0,0,1,4,3H8></path><path data-name=primary d=M16,3h4a1,1,0,0,1,1,1V8></path><path data-name=primary d=M8,21H4a1,1,0,0,1-1-1V16></path><path data-name=primary d=M21,16v4a1,1,0,0,1-1,1H16>`);const hn=({kit:e})=>{const t=()=>{const i=e.viewport(),r=Math.min(5,i.zoom+.1);e.setViewport({...i,zoom:r}),e.updateViewport()},n=()=>{const i=e.viewport();e.setViewport({...i,zoom:Math.max(.1,i.zoom-.1)}),e.updateViewport()},o=()=>{if(!e.container||e.nodes.length===0)return;const i=e.nodes;let r=1/0,l=1/0,s=-1/0,c=-1/0;i.forEach(v=>{r=Math.min(r,v.x),l=Math.min(l,v.y),s=Math.max(s,v.x+v.width),c=Math.max(c,v.y+v.height)});const{width:a,height:f}=e.container.getBoundingClientRect(),d=40,w=s-r,y=c-l;if(w<=0||y<=0)return;const p=Math.min((a-d*2)/w,(f-d*2)/y),u=Math.min(p,1),h=r+w/2,g=l+y/2,m=a/2-h*u,b=f/2-g*u;e.setViewport({x:m,y:b,zoom:u}),e.updateViewport()};return(()=>{var i=fn(),r=i.firstChild,l=r.nextSibling,s=l.nextSibling,c=s.nextSibling;return r.$$pointerdown=()=>e.setFocus(a=>!a),l.$$pointerdown=t,s.$$pointerdown=n,c.$$pointerdown=o,P(()=>r.classList.toggle("on",!!e.focus())),i})()};I(["pointerdown"]);var gn=C('<div class=kit-controls style=--flex-direction:row><button><svg xmlns=http://www.w3.org/2000/svg viewBox="0 0 24 24"fill=none stroke=currentColor stroke-width=2 stroke-linecap=round stroke-linejoin=round class="icon icon-tabler icons-tabler-outline icon-tabler-trash"><path stroke=none d="M0 0h24v24H0z"fill=none></path><path d="M4 7l16 0"></path><path d="M10 11l0 6"></path><path d="M14 11l0 6"></path><path d="M5 7l1 12a2 2 0 0 0 2 2h8a2 2 0 0 0 2 -2l1 -12"></path><path d="M9 7v-3a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v3"></path></svg></button><button title="Changes outline color"><svg xmlns=http://www.w3.org/2000/svg viewBox="0 0 24 24"fill=none stroke=currentColor stroke-width=2 stroke-linecap=round stroke-linejoin=round class="icon icon-tabler icons-tabler-outline icon-tabler-palette"><path stroke=none d="M0 0h24v24H0z"fill=none></path><path d="M12 21a9 9 0 0 1 0 -18c4.97 0 9 3.582 9 8c0 1.06 -.474 2.078 -1.318 2.828c-.844 .75 -1.989 1.172 -3.182 1.172h-2.5a2 2 0 0 0 -1 3.75a1.3 1.3 0 0 1 -1 2.25"></path><path d="M8.5 10.5m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0"></path><path d="M12.5 7.5m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0"></path><path d="M16.5 10.5m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0">');const wn=e=>{const t=()=>{const o=document.createElement("input");o.type="color",o.click(),o.addEventListener("input",()=>{e.kit.setNodes(i=>i.map(r=>r.id===e.node.id?{...r,style:{...r.style,"outline-color":o.value}}:r)),e.kit.updateNodes()})},n=()=>{const o=e.node.id;e.kit.setConnections(i=>i.filter(r=>r.from.id!==o&&r.to.id!==o)),e.kit.setNodes(i=>i.filter(r=>r.id!==o)),e.kit.updateNodes()};return(()=>{var o=gn(),i=o.firstChild,r=i.nextSibling;return i.$$pointerdown=n,r.$$pointerdown=t,o})()};I(["pointerdown"]);var mn=C('<div class=kit-controls style=--flex-direction:row><button><svg xmlns=http://www.w3.org/2000/svg viewBox="0 0 24 24"fill=none stroke=currentColor stroke-width=2 stroke-linecap=round stroke-linejoin=round class="icon icon-tabler icons-tabler-outline icon-tabler-trash"><path stroke=none d="M0 0h24v24H0z"fill=none></path><path d="M4 7l16 0"></path><path d="M10 11l0 6"></path><path d="M14 11l0 6"></path><path d="M5 7l1 12a2 2 0 0 0 2 2h8a2 2 0 0 0 2 -2l1 -12"></path><path d="M9 7v-3a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v3"></path></svg></button><button><svg xmlns=http://www.w3.org/2000/svg viewBox="0 0 24 24"fill=none stroke=currentColor stroke-width=2 stroke-linecap=round stroke-linejoin=round class="icon icon-tabler icons-tabler-outline icon-tabler-palette"><path stroke=none d="M0 0h24v24H0z"fill=none></path><path d="M12 21a9 9 0 0 1 0 -18c4.97 0 9 3.582 9 8c0 1.06 -.474 2.078 -1.318 2.828c-.844 .75 -1.989 1.172 -3.182 1.172h-2.5a2 2 0 0 0 -1 3.75a1.3 1.3 0 0 1 -1 2.25"></path><path d="M8.5 10.5m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0"></path><path d="M12.5 7.5m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0"></path><path d="M16.5 10.5m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0">');const vn=e=>{const t=()=>{const o=document.createElement("input");o.type="color",o.click(),o.addEventListener("input",()=>{console.log(o.value),e.kit.setConnections(i=>i.map(r=>r.id===e.connection.id?{...r,style:{...r.style,stroke:o.value}}:r)),e.kit.updateConnections()})},n=()=>{e.kit.setConnections(o=>o.filter(i=>i.id!==e.connection.id)),e.kit.updateConnections()};return(()=>{var o=mn(),i=o.firstChild,r=i.nextSibling;return i.$$pointerdown=n,r.$$pointerdown=t,o})()};I(["pointerdown"]);var yn=C('<svg xmlns=http://www.w3.org/2000/svg width=24 height=24 viewBox="0 0 24 24"><path stroke=none d="M0 0h24v24H0z"fill=none></path><path d="M9 6c0 -.852 .986 -1.297 1.623 -.783l.084 .076l6 6a1 1 0 0 1 .083 1.32l-.083 .094l-6 6l-.094 .083l-.077 .054l-.096 .054l-.036 .017l-.067 .027l-.108 .032l-.053 .01l-.06 .01l-.057 .004l-.059 .002l-.059 -.002l-.058 -.005l-.06 -.009l-.052 -.01l-.108 -.032l-.067 -.027l-.132 -.07l-.09 -.065l-.081 -.073l-.083 -.094l-.054 -.077l-.054 -.096l-.017 -.036l-.027 -.067l-.032 -.108l-.01 -.053l-.01 -.06l-.004 -.057l-.002 -12.059z">'),bn=C("<ul class=instructions-list>"),pn=C('<div class=instructions-popup><div style=display:flex;align-items:center;justify-content:space-between><div style=display:flex;flex:1><h4 class=instructions-title>Instructions</h4></div><button><svg xmlns=http://www.w3.org/2000/svg width=24 height=24 viewBox="0 0 24 24"fill=none stroke=currentColor stroke-width=2 stroke-linecap=round stroke-linejoin=round><path stroke=none d="M0 0h24v24H0z"fill=none></path><path d="M12 12m-9 0a9 9 0 1 0 18 0a9 9 0 1 0 -18 0"></path><path d="M13 12h5"></path><path d="M13 15h4"></path><path d="M13 18h1"></path><path d="M13 9h4"></path><path d="M13 6h1">'),xn=C("<li><div class=instructions-question>"),$n=C("<div class=instructions-answer>");const Cn=[{question:"How do I add nodes?",answer:"This library is minimal and highly customizable. By default, nodes are editable text, but you can define any type of node you want users to add. You could implement this via a custom context menu, a floating toolbar, or any UI that fits your app. For more details, check the 'Custom Nodes' section in the docs."},{question:"How do I interact with the contents of a node?",answer:"Click the button with the cursor icon in the bottom-right corner of the node to interact with its contents."},{question:"How customizable is it?",answer:"Completely customizable. from appearance to behavior. Read the docs or the source code."}],kn=()=>{let e=window.matchMedia("(max-width: 600px)").matches;const[t,n]=O(!e),[o,i]=O(new Set),r=s=>{const c=new Set(o());c.has(s)?c.delete(s):c.add(s),i(c)},l=()=>{document.documentElement.classList.toggle("dark")};return(()=>{var s=pn(),c=s.firstChild,a=c.firstChild;a.firstChild;var f=a.nextSibling;return s.$$mousedown=d=>d.stopPropagation(),a.$$touchstart=()=>n(!t()),$(a,x(N,{when:e,get children(){var d=yn();return P(w=>_(d,"transform",t()?"rotate(90deg)":"none")),d}}),null),f.$$click=l,$(s,x(N,{get when(){return t()},get children(){var d=bn();return $(d,x(Q,{each:Cn,children:(w,y)=>(()=>{var p=xn(),u=p.firstChild;return u.$$click=()=>r(y()),$(u,()=>w.question),$(p,(()=>{var h=Z(()=>!!o().has(y()));return()=>h()&&(()=>{var g=$n();return $(g,()=>w.answer),g})()})(),null),p})()})),d}}),null),P(()=>s.classList.toggle("open",!!t())),s})()};I(["mousedown","touchstart","click"]);var Sn=C("<div style=width:100%;height:100%;padding-block:10px;padding-inline:41px;display:flex;overflow:hidden;flex-direction:column;box-sizing:border-box;font-family:sans-serif><h1>Markdown Title</h1><p>This is a simple HTML page that looks like <strong>Markdown-rendered</strong> content.</p><h2>Subheading</h2><p>You can have <em>italic</em>, <strong>bold</strong>, and <code>inline code</code>.</p><h3>Lists</h3><ul><li>First item</li><li>Second item</li><li>Third item</li></ul><ol><li>Numbered one</li><li>Numbered two</li></ol><h3>Blockquote</h3><blockquote>This is a blockquote. It usually indicates a quote or note.</blockquote><p>End of the demo.");const En=()=>Sn();var Mn=C('<div style=width:100%;height:100%;background-color:#272727;color:white;align-items:center;display:flex;flex-direction:column;justify-content:space-between;padding:14px;border-radius:8px;box-sizing:border-box;font-family:sans-serif;font-size:14px><div style=display:flex;justify-content:space-between;width:100%;align-items:center><div></div><div style="width:12px;height:12px;border-radius:50%;background-color:#22c55e;box-shadow:0 0 4px #22c55e"></div></div><div style="margin-top:10px;display:grid;grid-template-columns:repeat(5, 1fr);grid-template-rows:repeat(6, 1fr);gap:4px;width:100%;flex:1;box-sizing:border-box"></div><select style=width:100%;margin-top:10px><option value=outline-color>outline</option><option value=color>text</option><option value=background-color>background'),Pn=C('<div style="width:100%;height:100%;cursor:pointer;border-radius:4px;box-shadow:0 0 3px rgba(0,0,0,0.4)">');const An=["#fee440","#00f6ed","#4cc9f0","#4361ee","#3a0ca3","#ff006e","#fb5607","#ffbe0b","#8338ec","#3a86ff","#06d6a0","#1b9aaa","#ef476f","#ffc43d","#eeeeee","#8ac926","#ff595e","#1982c4","#6a4c93","#a1c181","#ff9f1c","#2ec4b6","#e71d36","#011627","#b56576","#6d6875","#4cc9f0","#80ffdb","#edf6f9","#c9ada7"],Ln=e=>{let t="outline-color";const n=S(i=>{const r=e.kit.selectedItems();if(r.size===0)return"Select a node";const s=r.values().next().value;return s===e.node.id?typeof i=="string"?i:"Select a node":s}),o=i=>{n()!=="Select"&&e.kit.setNodes(r=>r.map(l=>l.id===n()?{...l,style:{...l.style,[t]:i}}:l))};return(()=>{var i=Mn(),r=i.firstChild,l=r.firstChild;l.nextSibling;var s=r.nextSibling,c=s.nextSibling;return $(l,n),$(s,x(Q,{each:An,children:a=>(()=>{var f=Pn();return f.$$touchstart=()=>o(a),f.$$click=()=>o(a),_(f,"background-color",a),f})()})),c.addEventListener("change",a=>{t=a.currentTarget.value}),i})()};I(["click","touchstart"]);var zn=C("<div style=background:#000;width:100vw;height:100vh;display:flex;align-items:center>");const On=()=>{const[e]=O(pe.nodes),[t]=O(pe.connections),[n]=O(pe.viewport),o=()=>{console.log("nodes changed")},i=()=>{console.log("connections changed")},r=()=>{console.log("viewport changed")};return(()=>{var l=zn();return $(l,x(an,{get nodes(){return e()},onNodesChange:o,get connections(){return t()},onConnectionsChange:i,get viewport(){return n()},onViewportChange:r,gridSize:1,defaultNode:_n,components:{"node-toolbar":wn,"connection-toolbar":vn,"example-markdown":En,"example-status":Ln},children:s=>[x(kn,{}),x(hn,{kit:s}),x(un,{kit:s,absoluteGrid:30})]})),l})()},_n={width:150,height:60},pe={nodes:[{id:"node-1",x:390,y:300,width:210,height:300,data:{label:"Color Changer",component:{type:"example-status"}},style:{"outline-color":"#272727"}},{id:"node-2",x:120,y:120,width:150,height:60,data:{label:"Node A"}},{id:"node-3",x:870,y:150,width:600,height:720,data:{label:"Example markdown",component:{type:"example-markdown"}}}],connections:[{id:"connection-1",from:{id:"node-1",side:"left"},to:{id:"node-2",side:"right"},label:"Next"}],viewport:{x:0,y:0,zoom:1}};Pt(()=>x(On,{}),document.getElementById("root"));
